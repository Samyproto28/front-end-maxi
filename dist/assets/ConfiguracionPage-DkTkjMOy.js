import{D as z,f as m,m as M,b as h,g as F,E as B,G as C,F as xe,q as ae,H as pt,I as q,J as I,K as mt,L as gt,M as ht,N as yt,n as ne,d as bt,o as $,w as H,i as k,u as K,a as u,c as T,e as W,k as we,t as O,O as xt,p as qe,_ as et,s as Le,A as me,j as wt}from"./index-CBeB2GAs.js";import{c as tt,w as Et,i as ce,d as N,o as _,u as le,P as be,N as J,S as te,T as $t,t as Tt,e as ve,l as lt,f as A,g as St,h as Ae,j as _t,s as kt,k as X,m as Ct,n as Ft,a as Dt,_ as Lt,A as Ye}from"./api-DDywFk_F.js";import{f as Pe,u as Oe,t as at,a as Ge,o as Ee,_ as At}from"./AppSelect-Bi8RopyZ.js";import{A as Ke}from"./AppAlert-nOKybVDX.js";import{i as ge}from"./importExportService-DzuBXo3j.js";function rt(e,t,l,r){tt.isServer||z(n=>{e=e??window,e.addEventListener(t,l,r),n(()=>e.removeEventListener(t,l,r))})}var de=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(de||{});function Pt(){let e=m(0);return Et("keydown",t=>{t.key==="Tab"&&(e.value=t.shiftKey?1:0)}),e}function ot(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let l of e.value){let r=_(l);r instanceof HTMLElement&&t.add(r)}return t}var nt=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(nt||{});let ie=Object.assign(M({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:m(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:l,expose:r}){let n=m(null);r({el:n,$el:n});let o=h(()=>ce(n)),a=m(!1);F(()=>a.value=!0),B(()=>a.value=!1),Bt({ownerDocument:o},h(()=>a.value&&!!(e.features&16)));let s=Mt({ownerDocument:o,container:n,initialFocus:h(()=>e.initialFocus)},h(()=>a.value&&!!(e.features&2)));Rt({ownerDocument:o,container:n,containers:e.containers,previousActiveElement:s},h(()=>a.value&&!!(e.features&8)));let i=Pt();function c(x){let b=_(n);b&&(f=>f())(()=>{le(i.value,{[de.Forwards]:()=>{be(b,J.First,{skipElements:[x.relatedTarget]})},[de.Backwards]:()=>{be(b,J.Last,{skipElements:[x.relatedTarget]})}})})}let d=m(!1);function E(x){x.key==="Tab"&&(d.value=!0,requestAnimationFrame(()=>{d.value=!1}))}function g(x){if(!a.value)return;let b=ot(e.containers);_(n)instanceof HTMLElement&&b.add(_(n));let f=x.relatedTarget;f instanceof HTMLElement&&f.dataset.headlessuiFocusGuard!=="true"&&(st(b,f)||(d.value?be(_(n),le(i.value,{[de.Forwards]:()=>J.Next,[de.Backwards]:()=>J.Previous})|J.WrapAround,{relativeTo:x.target}):x.target instanceof HTMLElement&&te(x.target)))}return()=>{let x={},b={ref:n,onKeydown:E,onFocusout:g},{features:f,initialFocus:v,containers:p,...y}=e;return C(xe,[!!(f&4)&&C(Pe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:Oe.Focusable}),N({ourProps:b,theirProps:{...t,...y},slot:x,attrs:t,slots:l,name:"FocusTrap"}),!!(f&4)&&C(Pe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:c,features:Oe.Focusable})])}}}),{features:nt});function Ot(e){let t=m(Ge.slice());return ae([e],([l],[r])=>{r===!0&&l===!1?at(()=>{t.value.splice(0)}):r===!1&&l===!0&&(t.value=Ge.slice())},{flush:"post"}),()=>{var l;return(l=t.value.find(r=>r!=null&&r.isConnected))!=null?l:null}}function Bt({ownerDocument:e},t){let l=Ot(t);F(()=>{z(()=>{var r,n;t.value||((r=e.value)==null?void 0:r.activeElement)===((n=e.value)==null?void 0:n.body)&&te(l())},{flush:"post"})}),B(()=>{t.value&&te(l())})}function Mt({ownerDocument:e,container:t,initialFocus:l},r){let n=m(null),o=m(!1);return F(()=>o.value=!0),B(()=>o.value=!1),F(()=>{ae([t,l,r],(a,s)=>{if(a.every((c,d)=>s?.[d]===c)||!r.value)return;let i=_(t);i&&at(()=>{var c,d;if(!o.value)return;let E=_(l),g=(c=e.value)==null?void 0:c.activeElement;if(E){if(E===g){n.value=g;return}}else if(i.contains(g)){n.value=g;return}E?te(E):be(i,J.First|J.NoScroll)===$t.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),n.value=(d=e.value)==null?void 0:d.activeElement})},{immediate:!0,flush:"post"})}),n}function Rt({ownerDocument:e,container:t,containers:l,previousActiveElement:r},n){var o;rt((o=e.value)==null?void 0:o.defaultView,"focus",a=>{if(!n.value)return;let s=ot(l);_(t)instanceof HTMLElement&&s.add(_(t));let i=r.value;if(!i)return;let c=a.target;c&&c instanceof HTMLElement?st(s,c)?(r.value=c,te(c)):(a.preventDefault(),a.stopPropagation(),te(i)):te(r.value)},!0)}function st(e,t){for(let l of e)if(l.contains(t))return!0;return!1}function Ht(e){let t=pt(e.getSnapshot());return B(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function It(e,t){let l=e(),r=new Set;return{getSnapshot(){return l},subscribe(n){return r.add(n),()=>r.delete(n)},dispatch(n,...o){let a=t[n].call(l,...o);a&&(l=a,r.forEach(s=>s()))}}}function Nt(){let e;return{before({doc:t}){var l;let r=t.documentElement;e=((l=t.defaultView)!=null?l:window).innerWidth-r.clientWidth},after({doc:t,d:l}){let r=t.documentElement,n=r.clientWidth-r.offsetWidth,o=e-n;l.style(r,"paddingRight",`${o}px`)}}}function jt(){return Tt()?{before({doc:e,d:t,meta:l}){function r(n){return l.containers.flatMap(o=>o()).some(o=>o.contains(n))}t.microTask(()=>{var n;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let s=Ee();s.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>s.dispose()))}let o=(n=window.scrollY)!=null?n:window.pageYOffset,a=null;t.addEventListener(e,"click",s=>{if(s.target instanceof HTMLElement)try{let i=s.target.closest("a");if(!i)return;let{hash:c}=new URL(i.href),d=e.querySelector(c);d&&!r(d)&&(a=d)}catch{}},!0),t.addEventListener(e,"touchstart",s=>{if(s.target instanceof HTMLElement)if(r(s.target)){let i=s.target;for(;i.parentElement&&r(i.parentElement);)i=i.parentElement;t.style(i,"overscrollBehavior","contain")}else t.style(s.target,"touchAction","none")}),t.addEventListener(e,"touchmove",s=>{if(s.target instanceof HTMLElement){if(s.target.tagName==="INPUT")return;if(r(s.target)){let i=s.target;for(;i.parentElement&&i.dataset.headlessuiPortal!==""&&!(i.scrollHeight>i.clientHeight||i.scrollWidth>i.clientWidth);)i=i.parentElement;i.dataset.headlessuiPortal===""&&s.preventDefault()}else s.preventDefault()}},{passive:!1}),t.add(()=>{var s;let i=(s=window.scrollY)!=null?s:window.pageYOffset;o!==i&&window.scrollTo(0,o),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function Vt(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Ut(e){let t={};for(let l of e)Object.assign(t,l(t));return t}let ee=It(()=>new Map,{PUSH(e,t){var l;let r=(l=this.get(e))!=null?l:{doc:e,count:0,d:Ee(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let l=this.get(e);return l&&(l.count--,l.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:l}){let r={doc:e,d:t,meta:Ut(l)},n=[jt(),Nt(),Vt()];n.forEach(({before:o})=>o?.(r)),n.forEach(({after:o})=>o?.(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});ee.subscribe(()=>{let e=ee.getSnapshot(),t=new Map;for(let[l]of e)t.set(l,l.documentElement.style.overflow);for(let l of e.values()){let r=t.get(l.doc)==="hidden",n=l.count!==0;(n&&!r||!n&&r)&&ee.dispatch(l.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",l),l.count===0&&ee.dispatch("TEARDOWN",l)}});function Wt(e,t,l){let r=Ht(ee),n=h(()=>{let o=e.value?r.value.get(e.value):void 0;return o?o.count>0:!1});return ae([e,t],([o,a],[s],i)=>{if(!o||!a)return;ee.dispatch("PUSH",o,l);let c=!1;i(()=>{c||(ee.dispatch("POP",s??o,l),c=!0)})},{immediate:!0}),n}let Fe=new Map,ue=new Map;function Ze(e,t=m(!0)){z(l=>{var r;if(!t.value)return;let n=_(e);if(!n)return;l(function(){var a;if(!n)return;let s=(a=ue.get(n))!=null?a:1;if(s===1?ue.delete(n):ue.set(n,s-1),s!==1)return;let i=Fe.get(n);i&&(i["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",i["aria-hidden"]),n.inert=i.inert,Fe.delete(n))});let o=(r=ue.get(n))!=null?r:0;ue.set(n,o+1),o===0&&(Fe.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0)})}function zt({defaultContainers:e=[],portals:t,mainTreeNodeRef:l}={}){let r=m(null),n=ce(r);function o(){var a,s,i;let c=[];for(let d of e)d!==null&&(d instanceof HTMLElement?c.push(d):"value"in d&&d.value instanceof HTMLElement&&c.push(d.value));if(t!=null&&t.value)for(let d of t.value)c.push(d);for(let d of(a=n?.querySelectorAll("html > *, body > *"))!=null?a:[])d!==document.body&&d!==document.head&&d instanceof HTMLElement&&d.id!=="headlessui-portal-root"&&(d.contains(_(r))||d.contains((i=(s=_(r))==null?void 0:s.getRootNode())==null?void 0:i.host)||c.some(E=>d.contains(E))||c.push(d));return c}return{resolveContainers:o,contains(a){return o().some(s=>s.contains(a))},mainTreeNodeRef:r,MainTreeNode(){return l!=null?null:C(Pe,{features:Oe.Hidden,ref:r})}}}let it=Symbol("ForcePortalRootContext");function qt(){return I(it,!1)}let Qe=M({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:l}){return q(it,e.force),()=>{let{force:r,...n}=e;return N({theirProps:n,ourProps:{},slot:{},slots:t,attrs:l,name:"ForcePortalRoot"})}}}),ut=Symbol("StackContext");var Be=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Be||{});function Yt(){return I(ut,()=>{})}function Gt({type:e,enabled:t,element:l,onUpdate:r}){let n=Yt();function o(...a){r?.(...a),n(...a)}F(()=>{ae(t,(a,s)=>{a?o(0,e,l):s===!0&&o(1,e,l)},{immediate:!0,flush:"sync"})}),B(()=>{t.value&&o(1,e,l)}),q(ut,o)}let Kt=Symbol("DescriptionContext");function Zt({slot:e=m({}),name:t="Description",props:l={}}={}){let r=m([]);function n(o){return r.value.push(o),()=>{let a=r.value.indexOf(o);a!==-1&&r.value.splice(a,1)}}return q(Kt,{register:n,slot:e,name:t,props:l}),h(()=>r.value.length>0?r.value.join(" "):void 0)}function Qt(e){let t=ce(e);if(!t){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let l=t.getElementById("headlessui-portal-root");if(l)return l;let r=t.createElement("div");return r.setAttribute("id","headlessui-portal-root"),t.body.appendChild(r)}const Me=new WeakMap;function Jt(e){var t;return(t=Me.get(e))!=null?t:0}function Je(e,t){let l=t(Jt(e));return l<=0?Me.delete(e):Me.set(e,l),l}let Xt=M({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:l}){let r=m(null),n=h(()=>ce(r)),o=qt(),a=I(dt,null),s=m(o===!0||a==null?Qt(r.value):a.resolveTarget());s.value&&Je(s.value,g=>g+1);let i=m(!1);F(()=>{i.value=!0}),z(()=>{o||a!=null&&(s.value=a.resolveTarget())});let c=I(Re,null),d=!1,E=mt();return ae(r,()=>{if(d||!c)return;let g=_(r);g&&(B(c.register(g),E),d=!0)}),B(()=>{var g,x;let b=(g=n.value)==null?void 0:g.getElementById("headlessui-portal-root");!b||s.value!==b||Je(s.value,f=>f-1)||s.value.children.length>0||(x=s.value.parentElement)==null||x.removeChild(s.value)}),()=>{if(!i.value||s.value===null)return null;let g={ref:r,"data-headlessui-portal":""};return C(gt,{to:s.value},N({ourProps:g,theirProps:e,slot:{},attrs:l,slots:t,name:"Portal"}))}}}),Re=Symbol("PortalParentContext");function el(){let e=I(Re,null),t=m([]);function l(o){return t.value.push(o),e&&e.register(o),()=>r(o)}function r(o){let a=t.value.indexOf(o);a!==-1&&t.value.splice(a,1),e&&e.unregister(o)}let n={register:l,unregister:r,portals:t};return[t,M({name:"PortalWrapper",setup(o,{slots:a}){return q(Re,n),()=>{var s;return(s=a.default)==null?void 0:s.call(a)}}})]}let dt=Symbol("PortalGroupContext"),tl=M({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:l}){let r=ht({resolveTarget(){return e.target}});return q(dt,r),()=>{let{target:n,...o}=e;return N({theirProps:o,ourProps:{},slot:{},attrs:t,slots:l,name:"PortalGroup"})}}});var ll=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ll||{});let He=Symbol("DialogContext");function $e(e){let t=I(He,null);if(t===null){let l=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,$e),l}return t}let he="DC8F892D-2EBD-447C-A4C8-A03058436FF4",al=M({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:he},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:e=>!0},setup(e,{emit:t,attrs:l,slots:r,expose:n}){var o,a;let s=(o=e.id)!=null?o:`headlessui-dialog-${ve()}`,i=m(!1);F(()=>{i.value=!0});let c=!1,d=h(()=>e.role==="dialog"||e.role==="alertdialog"?e.role:(c||(c=!0,console.warn(`Invalid role [${d}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),E=m(0),g=lt(),x=h(()=>e.open===he&&g!==null?(g.value&A.Open)===A.Open:e.open),b=m(null),f=h(()=>ce(b));if(n({el:b,$el:b}),!(e.open!==he||g!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof x.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${x.value===he?void 0:e.open}`);let v=h(()=>i.value&&x.value?0:1),p=h(()=>v.value===0),y=h(()=>E.value>1),P=I(He,null)!==null,[j,Y]=el(),{resolveContainers:G,mainTreeNodeRef:re,MainTreeNode:Z}=zt({portals:j,defaultContainers:[h(()=>{var w;return(w=oe.panelRef.value)!=null?w:b.value})]}),Se=h(()=>y.value?"parent":"leaf"),fe=h(()=>g!==null?(g.value&A.Closing)===A.Closing:!1),_e=h(()=>P||fe.value?!1:p.value),ke=h(()=>{var w,S,D;return(D=Array.from((S=(w=f.value)==null?void 0:w.querySelectorAll("body > *"))!=null?S:[]).find(L=>L.id==="headlessui-portal-root"?!1:L.contains(_(re))&&L instanceof HTMLElement))!=null?D:null});Ze(ke,_e);let R=h(()=>y.value?!0:p.value),se=h(()=>{var w,S,D;return(D=Array.from((S=(w=f.value)==null?void 0:w.querySelectorAll("[data-headlessui-portal]"))!=null?S:[]).find(L=>L.contains(_(re))&&L instanceof HTMLElement))!=null?D:null});Ze(se,R),Gt({type:"Dialog",enabled:h(()=>v.value===0),element:b,onUpdate:(w,S)=>{if(S==="Dialog")return le(w,{[Be.Add]:()=>E.value+=1,[Be.Remove]:()=>E.value-=1})}});let V=Zt({name:"DialogDescription",slot:h(()=>({open:x.value}))}),U=m(null),oe={titleId:U,panelRef:m(null),dialogState:v,setTitleId(w){U.value!==w&&(U.value=w)},close(){t("close",!1)}};q(He,oe);let Ue=h(()=>!(!p.value||y.value));St(G,(w,S)=>{w.preventDefault(),oe.close(),yt(()=>S?.focus())},Ue);let We=h(()=>!(y.value||v.value!==0));rt((a=f.value)==null?void 0:a.defaultView,"keydown",w=>{We.value&&(w.defaultPrevented||w.key===_t.Escape&&(w.preventDefault(),w.stopPropagation(),oe.close()))});let ze=h(()=>!(fe.value||v.value!==0||P));return Wt(f,ze,w=>{var S;return{containers:[...(S=w.containers)!=null?S:[],G]}}),z(w=>{if(v.value!==0)return;let S=_(b);if(!S)return;let D=new ResizeObserver(L=>{for(let Ce of L){let pe=Ce.target.getBoundingClientRect();pe.x===0&&pe.y===0&&pe.width===0&&pe.height===0&&oe.close()}});D.observe(S),w(()=>D.disconnect())}),()=>{let{open:w,initialFocus:S,...D}=e,L={...l,ref:b,id:s,role:d.value,"aria-modal":v.value===0?!0:void 0,"aria-labelledby":U.value,"aria-describedby":V.value},Ce={open:v.value===0};return C(Qe,{force:!0},()=>[C(Xt,()=>C(tl,{target:b.value},()=>C(Qe,{force:!1},()=>C(ie,{initialFocus:S,containers:G,features:p.value?le(Se.value,{parent:ie.features.RestoreFocus,leaf:ie.features.All&~ie.features.FocusLock}):ie.features.None},()=>C(Y,{},()=>N({ourProps:L,theirProps:{...D,...l},slot:Ce,attrs:l,slots:r,visible:v.value===0,features:Ae.RenderStrategy|Ae.Static,name:"Dialog"})))))),C(Z)])}}}),rl=M({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(e,{attrs:t,slots:l}){var r;let n=(r=e.id)!=null?r:`headlessui-dialog-overlay-${ve()}`,o=$e("DialogOverlay");function a(s){s.target===s.currentTarget&&(s.preventDefault(),s.stopPropagation(),o.close())}return()=>{let{...s}=e;return N({ourProps:{id:n,"aria-hidden":!0,onClick:a},theirProps:s,slot:{open:o.dialogState.value===0},attrs:t,slots:l,name:"DialogOverlay"})}}}),ol=M({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(e,{attrs:t,slots:l,expose:r}){var n;let o=(n=e.id)!=null?n:`headlessui-dialog-panel-${ve()}`,a=$e("DialogPanel");r({el:a.panelRef,$el:a.panelRef});function s(i){i.stopPropagation()}return()=>{let{...i}=e,c={id:o,ref:a.panelRef,onClick:s};return N({ourProps:c,theirProps:i,slot:{open:a.dialogState.value===0},attrs:t,slots:l,name:"DialogPanel"})}}}),nl=M({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:null}},setup(e,{attrs:t,slots:l}){var r;let n=(r=e.id)!=null?r:`headlessui-dialog-title-${ve()}`,o=$e("DialogTitle");return F(()=>{o.setTitleId(n),B(()=>o.setTitleId(null))}),()=>{let{...a}=e;return N({ourProps:{id:n},theirProps:a,slot:{open:o.dialogState.value===0},attrs:t,slots:l,name:"DialogTitle"})}}});function sl(e){let t={called:!1};return(...l)=>{if(!t.called)return t.called=!0,e(...l)}}function De(e,...t){e&&t.length>0&&e.classList.add(...t)}function ye(e,...t){e&&t.length>0&&e.classList.remove(...t)}var Ie=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(Ie||{});function il(e,t){let l=Ee();if(!e)return l.dispose;let{transitionDuration:r,transitionDelay:n}=getComputedStyle(e),[o,a]=[r,n].map(s=>{let[i=0]=s.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,d)=>d-c);return i});return o!==0?l.setTimeout(()=>t("finished"),o+a):t("finished"),l.add(()=>t("cancelled")),l.dispose}function Xe(e,t,l,r,n,o){let a=Ee(),s=o!==void 0?sl(o):()=>{};return ye(e,...n),De(e,...t,...l),a.nextFrame(()=>{ye(e,...l),De(e,...r),a.add(il(e,i=>(ye(e,...r,...t),De(e,...n),s(i))))}),a.add(()=>ye(e,...t,...l,...r,...n)),a.add(()=>s("cancelled")),a.dispose}function Q(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let je=Symbol("TransitionContext");var ul=(e=>(e.Visible="visible",e.Hidden="hidden",e))(ul||{});function dl(){return I(je,null)!==null}function cl(){let e=I(je,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function vl(){let e=I(Ve,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let Ve=Symbol("NestingContext");function Te(e){return"children"in e?Te(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function ct(e){let t=m([]),l=m(!1);F(()=>l.value=!0),B(()=>l.value=!1);function r(o,a=X.Hidden){let s=t.value.findIndex(({id:i})=>i===o);s!==-1&&(le(a,{[X.Unmount](){t.value.splice(s,1)},[X.Hidden](){t.value[s].state="hidden"}}),!Te(t)&&l.value&&e?.())}function n(o){let a=t.value.find(({id:s})=>s===o);return a?a.state!=="visible"&&(a.state="visible"):t.value.push({id:o,state:"visible"}),()=>r(o,X.Unmount)}return{children:t,register:n,unregister:r}}let vt=Ae.RenderStrategy,Ne=M({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:l,slots:r,expose:n}){let o=m(0);function a(){o.value|=A.Opening,t("beforeEnter")}function s(){o.value&=~A.Opening,t("afterEnter")}function i(){o.value|=A.Closing,t("beforeLeave")}function c(){o.value&=~A.Closing,t("afterLeave")}if(!dl()&&kt())return()=>C(ft,{...e,onBeforeEnter:a,onAfterEnter:s,onBeforeLeave:i,onAfterLeave:c},r);let d=m(null),E=h(()=>e.unmount?X.Unmount:X.Hidden);n({el:d,$el:d});let{show:g,appear:x}=cl(),{register:b,unregister:f}=vl(),v=m(g.value?"visible":"hidden"),p={value:!0},y=ve(),P={value:!1},j=ct(()=>{!P.value&&v.value!=="hidden"&&(v.value="hidden",f(y),c())});F(()=>{let R=b(y);B(R)}),z(()=>{if(E.value===X.Hidden&&y){if(g.value&&v.value!=="visible"){v.value="visible";return}le(v.value,{hidden:()=>f(y),visible:()=>b(y)})}});let Y=Q(e.enter),G=Q(e.enterFrom),re=Q(e.enterTo),Z=Q(e.entered),Se=Q(e.leave),fe=Q(e.leaveFrom),_e=Q(e.leaveTo);F(()=>{z(()=>{if(v.value==="visible"){let R=_(d);if(R instanceof Comment&&R.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function ke(R){let se=p.value&&!x.value,V=_(d);!V||!(V instanceof HTMLElement)||se||(P.value=!0,g.value&&a(),g.value||i(),R(g.value?Xe(V,Y,G,re,Z,U=>{P.value=!1,U===Ie.Finished&&s()}):Xe(V,Se,fe,_e,Z,U=>{P.value=!1,U===Ie.Finished&&(Te(j)||(v.value="hidden",f(y),c()))})))}return F(()=>{ae([g],(R,se,V)=>{ke(V),p.value=!1},{immediate:!0})}),q(Ve,j),Ct(h(()=>le(v.value,{visible:A.Open,hidden:A.Closed})|o.value)),()=>{let{appear:R,show:se,enter:V,enterFrom:U,enterTo:oe,entered:Ue,leave:We,leaveFrom:ze,leaveTo:w,...S}=e,D={ref:d},L={...S,...x.value&&g.value&&tt.isServer?{class:ne([l.class,S.class,...Y,...G])}:{}};return N({theirProps:L,ourProps:D,slot:{},slots:r,attrs:l,features:vt,visible:v.value==="visible",name:"TransitionChild"})}}}),fl=Ne,ft=M({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:l,slots:r}){let n=lt(),o=h(()=>e.show===null&&n!==null?(n.value&A.Open)===A.Open:e.show);z(()=>{if(![!0,!1].includes(o.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let a=m(o.value?"visible":"hidden"),s=ct(()=>{a.value="hidden"}),i=m(!0),c={show:o,appear:h(()=>e.appear||!i.value)};return F(()=>{z(()=>{i.value=!1,o.value?a.value="visible":Te(s)||(a.value="hidden")})}),q(Ve,s),q(je,c),()=>{let d=Ft(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),E={unmount:e.unmount};return N({ourProps:{...E,as:"template"},theirProps:{},slot:{},slots:{...r,default:()=>[C(fl,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...l,...E,...d},r.default)]},attrs:{},features:vt,visible:a.value==="visible",name:"Transition"})}}});const pl={class:"fixed inset-0 overflow-y-auto"},ml={class:"flex min-h-full items-center justify-center p-4 text-center"},gl={class:"flex items-center justify-between px-6 py-4 border-b border-gray-200"},hl={class:"px-6 py-4"},yl={key:0,class:"px-6 py-4 border-t border-gray-200 bg-gray-50"},bl={__name:"AppModal",props:{isOpen:{type:Boolean,required:!0},title:{type:String,required:!0},size:{type:String,default:"md",validator:e=>["sm","md","lg","xl"].includes(e)},closeOnClickOutside:{type:Boolean,default:!0}},emits:["close"],setup(e,{emit:t}){const l=e,r=t,n=a=>{a?document.body.style.overflow="hidden":document.body.style.overflow=""};ae(()=>l.isOpen,a=>{n(a)},{immediate:!0}),B(()=>{n(!1)});const o={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"};return(a,s)=>($(),bt(K(ft),{show:e.isOpen,as:"template"},{default:H(()=>[k(K(al),{as:"div",class:"relative z-50",static:!e.closeOnClickOutside,onClose:s[1]||(s[1]=i=>r("close"))},{default:H(()=>[k(K(Ne),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:H(()=>[k(K(rl),{class:"fixed inset-0 bg-black/50"})]),_:1}),u("div",pl,[u("div",ml,[k(K(Ne),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:H(()=>[k(K(ol),{class:ne(["w-full transform overflow-hidden rounded-lg bg-white text-left align-middle shadow-xl transition-all",o[l.size]])},{default:H(()=>[u("div",gl,[k(K(nl),{as:"h3",class:"text-lg font-semibold leading-6 text-gray-900"},{default:H(()=>[we(O(l.title),1)]),_:1}),u("button",{type:"button",class:"rounded-md p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:s[0]||(s[0]=i=>r("close"))},[s[2]||(s[2]=u("span",{class:"sr-only"},"Cerrar",-1)),k(K(xt),{class:"h-5 w-5","aria-hidden":"true"})])]),u("div",hl,[qe(a.$slots,"default")]),a.$slots.footer?($(),T("div",yl,[qe(a.$slots,"footer")])):W("",!0)]),_:3},8,["class"])]),_:3})])])]),_:3},8,["static"])]),_:3},8,["show"]))}},xl={class:"w-full"},wl={class:"flex flex-col items-center"},El={key:1,class:"mb-3"},$l={key:0},Tl={key:1},Sl={key:2},_l={key:3},kl={key:4},Cl={class:"text-xs text-gray-500"},Fl={key:0},Dl={key:2,class:"mt-4 w-full"},Ll={class:"flex items-center flex-1 min-w-0"},Al={class:"text-sm text-gray-700 truncate"},Pl=["onClick"],Ol=["accept","multiple"],Bl={__name:"FileUploader",props:{accept:{type:String,default:".csv"},multiple:{type:Boolean,default:!1}},emits:["upload"],setup(e,{emit:t}){const l=e,r=t,n=m(null),o=m(null),a=m("idle"),s=m([]),i=h(()=>s.value.map(p=>p.name)),c=h(()=>{switch(a.value){case"dragover":return"text-primary";case"success":return"text-green-700";case"error":return"text-red-700";case"uploading":return"text-blue-700";default:return"text-gray-700"}}),d=()=>{a.value!=="uploading"&&n.value?.click()},E=p=>{p.preventDefault(),a.value!=="uploading"&&(a.value="dragover")},g=p=>{p.preventDefault(),o.value?.contains(p.relatedTarget)||(s.value.length>0?a.value=s.value.length>0?"success":"idle":a.value="idle")},x=p=>{p.preventDefault();const y=Array.from(p.dataTransfer.files);f(y)},b=p=>{const y=Array.from(p.target.files||[]);f(y)},f=p=>{a.value="uploading",s.value=[];const y=p.filter(j=>{const Y=j.name.toLowerCase(),G=Y.substring(Y.lastIndexOf("."));return l.accept.split(",").some(re=>{const Z=re.trim().toLowerCase();return G===Z||Z==="*/*"})});if(y.length===0){a.value="error";return}s.value=l.multiple?y:y.slice(0,1);const P=l.multiple?s.value:s.value[0];r("upload",P),a.value="success"},v=p=>{s.value.splice(p,1),s.value.length===0&&(a.value="idle",n.value&&(n.value.value=""))};return(p,y)=>($(),T("div",xl,[u("div",{ref_key:"dropZone",ref:o,class:ne(["relative border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-all duration-200",{"border-gray-300 bg-gray-50 hover:bg-gray-100":a.value==="idle","border-primary bg-blue-50":a.value==="dragover","border-green-500 bg-green-50":a.value==="success","border-red-500 bg-red-50":a.value==="error","border-gray-300 bg-gray-50":a.value==="uploading"}]),onClick:d,onDrop:me(x,["prevent"]),onDragover:me(E,["prevent"]),onDragleave:me(g,["prevent"])},[u("div",wl,[a.value!=="uploading"?($(),T("svg",{key:0,class:ne(["w-12 h-12 mb-3",{"text-gray-400":a.value==="idle","text-primary":a.value==="dragover","text-green-600":a.value==="success","text-red-600":a.value==="error"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...y[0]||(y[0]=[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"},null,-1)])],2)):($(),T("div",El,[k(Dt,{size:"lg",color:"blue-600"})])),u("p",{class:ne(["text-sm font-medium mb-1",c.value])},[a.value==="idle"?($(),T("span",$l,"Arrastra un archivo aquí o haz clic para seleccionar")):a.value==="dragover"?($(),T("span",Tl,"Suelta el archivo aquí")):a.value==="uploading"?($(),T("span",Sl,"Subiendo archivo...")):a.value==="success"?($(),T("span",_l,"¡Archivo subido exitosamente!")):a.value==="error"?($(),T("span",kl,"Error al subir archivo")):W("",!0)],2),u("p",Cl,[we(" Tipos aceptados: "+O(e.accept)+" ",1),e.multiple?($(),T("span",Fl," (múltiples archivos)")):W("",!0)]),i.value.length>0?($(),T("div",Dl,[($(!0),T(xe,null,Le(i.value,(P,j)=>($(),T("div",{key:j,class:"flex items-center justify-between bg-white rounded-md p-2 mb-2 border"},[u("div",Ll,[y[1]||(y[1]=u("svg",{class:"w-5 h-5 text-gray-400 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),u("span",Al,O(P),1)]),a.value!=="uploading"?($(),T("button",{key:0,type:"button",class:"ml-2 text-gray-400 hover:text-red-500 flex-shrink-0",onClick:me(Y=>v(j),["stop"])},[...y[2]||(y[2]=[u("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Pl)):W("",!0)]))),128))])):W("",!0)]),u("input",{ref_key:"fileInput",ref:n,type:"file",accept:e.accept,multiple:e.multiple,class:"hidden",onChange:b},null,40,Ol)],34)]))}},Ml=et(Bl,[["__scopeId","data-v-1b122f5e"]]),Rl={class:"min-h-screen flex flex-col"},Hl={class:"flex-1"},Il={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Nl={class:"mb-8"},jl={class:"bg-white shadow rounded-lg"},Vl={class:"p-6 space-y-6"},Ul={class:"flex justify-end"},Wl={class:"bg-white shadow rounded-lg"},zl={class:"p-6"},ql={class:"border-b border-gray-200 mb-6"},Yl={class:"-mb-px flex space-x-8"},Gl=["onClick"],Kl={class:"text-center py-12"},Zl={class:"mt-2 text-sm font-medium text-gray-900"},Ql={key:0,class:"mb-4"},Jl={key:1,class:"mb-4"},Xl={key:2,class:"mb-4"},ea={class:"bg-gray-50 rounded-lg p-4"},ta={class:"grid grid-cols-3 gap-4"},la={class:"text-lg font-semibold text-gray-900"},aa={class:"text-lg font-semibold text-green-600"},ra={class:"text-lg font-semibold text-red-600"},oa={key:3,class:"mb-4"},na={class:"bg-gray-50 rounded-lg p-4 max-h-60 overflow-y-auto"},sa={class:"space-y-2"},ia={class:"font-medium"},ua={class:"ml-2"},da={__name:"ConfiguracionPage",setup(e){wt();const t=m(null),l=m(null),r=m(!1),n=m(!1),o=m(null),a=m("provincias"),s=[{value:"provincias",label:"Provincias"},{value:"listas",label:"Listas Electorales"},{value:"mesas",label:"Mesas Electorales"},{value:"telegramas",label:"Telegramas"}],i=[{id:"provincias",label:"Provincias"},{id:"listas",label:"Listas"},{id:"mesas",label:"Mesas"},{id:"telegramas",label:"Telegramas"}],c=h(()=>o.value?o.value.errors===0?"¡Importación Exitosa!":"Importación Completada con Errores":"Resultado de Importación"),d=h(()=>o.value?o.value.errorDetails||[]:[]),E=f=>{l.value=f},g=()=>{l.value=null},x=async()=>{if(!(!l.value||!t.value)){r.value=!0;try{let f;switch(t.value){case"provincias":f=await ge.importProvincias(l.value);break;case"listas":f=await ge.importListas(l.value);break;case"mesas":f=await ge.importMesas(l.value);break;case"telegramas":f=await ge.importTelegramas(l.value);break;default:throw new Error("Tipo de datos no válido")}o.value={total:f.importados||0,success:f.importados||0,errors:Array.isArray(f.errores)?f.errores.length:f.errores||0,errorDetails:f.errores||[]},n.value=!0}catch(f){console.error("Error importing data:",f),o.value={total:0,success:0,errors:1,errorDetails:[{row:"-",message:f.message||"Error desconocido durante la importación"}]},n.value=!0}finally{r.value=!1}}},b=()=>{n.value=!1,o.value=null,l.value=null,t.value=null};return(f,v)=>($(),T("div",Rl,[k(Lt),u("main",Hl,[u("div",Il,[v[5]||(v[5]=u("div",{class:"mb-6"},[u("h1",{class:"text-3xl font-bold text-gray-900"},"Configuración"),u("p",{class:"mt-2 text-sm text-gray-600"},"Importación y gestión de datos del sistema")],-1)),u("section",Nl,[u("div",jl,[v[1]||(v[1]=u("div",{class:"px-6 py-4 border-b border-gray-200"},[u("h2",{class:"text-xl font-semibold text-gray-900"},"Importación de Datos"),u("p",{class:"mt-1 text-sm text-gray-500"}," Importa datos desde archivos CSV para diferentes tipos de información ")],-1)),u("div",Vl,[u("div",null,[k(At,{modelValue:t.value,"onUpdate:modelValue":[v[0]||(v[0]=p=>t.value=p),g],options:s,label:"Tipo de Datos",placeholder:"Selecciona el tipo de datos a importar"},null,8,["modelValue"])]),u("div",null,[k(Ml,{accept:".csv",multiple:!1,onUpload:E})]),u("div",Ul,[k(Ye,{variant:"primary",size:"lg",disabled:!l.value||r.value,loading:r.value,onClick:x},{default:H(()=>[we(O(r.value?"Importando...":"Importar Datos"),1)]),_:1},8,["disabled","loading"])])])])]),u("section",null,[u("div",Wl,[v[4]||(v[4]=u("div",{class:"px-6 py-4 border-b border-gray-200"},[u("h2",{class:"text-xl font-semibold text-gray-900"},"Gestión de Catálogos"),u("p",{class:"mt-1 text-sm text-gray-500"}," Administra y edita los catálogos del sistema ")],-1)),u("div",zl,[u("div",ql,[u("nav",Yl,[($(),T(xe,null,Le(i,p=>u("button",{key:p.id,type:"button",class:ne(["py-2 px-1 border-b-2 font-medium text-sm",{"border-primary text-primary":a.value===p.id,"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300":a.value!==p.id}]),onClick:y=>a.value=p.id},O(p.label),11,Gl)),64))])]),u("div",Kl,[v[2]||(v[2]=u("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)),u("h3",Zl," Vista de "+O(i.find(p=>p.id===a.value)?.label),1),v[3]||(v[3]=u("p",{class:"mt-1 text-sm text-gray-500"}," Esta funcionalidad estará disponible próximamente ",-1))])])])])])]),k(bl,{"is-open":n.value,title:c.value,size:"lg",onClose:b},{footer:H(()=>[k(Ye,{variant:"primary",onClick:b},{default:H(()=>[...v[11]||(v[11]=[we(" Cerrar ",-1)])]),_:1})]),default:H(()=>[o.value&&o.value.success>0?($(),T("div",Ql,[k(Ke,{type:"success",message:`Se importaron ${o.value.success} registros correctamente`},null,8,["message"])])):W("",!0),o.value&&o.value.errors>0?($(),T("div",Jl,[k(Ke,{type:"error",message:`Se encontraron ${o.value.errors} errores al procesar el archivo`},null,8,["message"])])):W("",!0),o.value?($(),T("div",Xl,[u("div",ea,[v[9]||(v[9]=u("h4",{class:"text-sm font-medium text-gray-900 mb-2"},"Resumen de Importación",-1)),u("dl",ta,[u("div",null,[v[6]||(v[6]=u("dt",{class:"text-xs text-gray-500"},"Total Procesados",-1)),u("dd",la,O(o.value.total),1)]),u("div",null,[v[7]||(v[7]=u("dt",{class:"text-xs text-gray-500"},"Exitosos",-1)),u("dd",aa,O(o.value.success),1)]),u("div",null,[v[8]||(v[8]=u("dt",{class:"text-xs text-gray-500"},"Errores",-1)),u("dd",ra,O(o.value.errors),1)])])])])):W("",!0),d.value.length>0?($(),T("div",oa,[v[10]||(v[10]=u("h4",{class:"text-sm font-medium text-gray-900 mb-2"},"Detalles de Errores",-1)),u("div",na,[u("ul",sa,[($(!0),T(xe,null,Le(d.value,(p,y)=>($(),T("li",{key:y,class:"text-sm text-gray-700"},[u("span",ia,"Fila "+O(p.row)+":",1),u("span",ua,O(p.message),1)]))),128))])])])):W("",!0)]),_:1},8,["is-open","title"])]))}},ga=et(da,[["__scopeId","data-v-533f4bdf"]]);export{ga as default};
