import{l as H,f as b,b as V,m as J,c as m,o as v,e as C,a,i as x,k as L,t as _,p as se,n as j,T as D,w as E,_ as A,q as Q,g as O,F as W,s as X,v as re,x as oe,j as Y,u as q,y as le,z as ne,A as ie}from"./index-CBeB2GAs.js";import{b as I,a as de,A as K,_ as ue}from"./api-DDywFk_F.js";import{_ as U,a as ce}from"./AppCard-Cj7gG7Gi.js";import{u as me,_ as ve}from"./AppBadge-Bw8j-ABu.js";import{_ as fe}from"./AppSelect-Bi8RopyZ.js";import{u as pe}from"./telegramaStore-CBxXN5Hf.js";import{f as N}from"./formatters-vTMZW8fP.js";const G=e=>({message:e.message||"Los datos proporcionados no son válidos.",errors:e.errors||{}}),R={getAll(){return I.get("/mesas").then(e=>e.data.data)},getById(e){return I.get(`/mesas/${e}`).then(n=>n.data.data)},getByProvincia(e){return I.get(`/provincias/${e}/mesas`).then(n=>n.data.data)},create(e){return I.post("/mesas",e).then(n=>n.data.data).catch(n=>{throw n.response?.status===422?G(n.response.data):n})},update(e,n){return I.put(`/mesas/${e}`,n).then(t=>t.data.data).catch(t=>{throw t.response?.status===422?G(t.response.data):t})},delete(e){return I.delete(`/mesas/${e}`).then(n=>n.data.data)},getTelegrama(e){return I.get(`/mesas/${e}/telegramas`).then(n=>n.data.data)},cerrarMesa(e){return I.put(`/mesas/${e}/cerrar`).then(n=>n.data.data)},abrirMesa(e){return I.put(`/mesas/${e}/abrir`).then(n=>n.data.data)}},ge=H("mesa",()=>{const e=b([]),n=b(null),t=b(!1),$=b(null),p=b(new Map),k=V(()=>c=>p.value.has(c)?p.value.get(c):e.value.filter(f=>f.provincia_id===c)),y=V(()=>c=>e.value.find(f=>f.id===c));async function g(c={}){t.value=!0,$.value=null;try{const f=await R.getAll(c);return e.value=f,f}catch(f){throw $.value="Error al cargar las mesas",console.error("Error fetching mesas:",f),f}finally{t.value=!1}}async function u(c){if(p.value.has(c))return p.value.get(c);t.value=!0,$.value=null;try{const f=await R.getByProvincia(c);return p.value.set(c,f),f}catch(f){throw $.value=`Error al cargar mesas de la provincia ${c}`,console.error("Error fetching mesas by provincia:",f),f}finally{t.value=!1}}function h(c){n.value=c}let S=null;function P(c){return S&&clearTimeout(S),new Promise(f=>{S=setTimeout(()=>{const s=c.toLowerCase().trim();if(!s){f(e.value);return}const r=e.value.filter(o=>{const d=o.numero?.toString()||"",i=o.direccion?.toLowerCase()||"",B=o.escuela?.toLowerCase()||"";return d.includes(s)||i.includes(s)||B.includes(s)});f(r)},300)})}return{mesas:e,mesaSeleccionada:n,loading:t,error:$,cache:p,mesasPorProvincia:k,mesaById:y,fetchMesas:g,fetchMesasPorProvincia:u,setMesaSeleccionada:h,buscarMesa:P}}),xe={class:"w-full"},ye=["for"],be={key:0,class:"text-red-500"},he={class:"relative"},_e=["id","type","placeholder","disabled","required","autocomplete","value","aria-invalid","aria-describedby","aria-required","inputmode"],Ve=["id"],$e=J({__name:"AppInput",props:{modelValue:{},label:{},type:{default:"text"},placeholder:{},error:{},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},autocomplete:{}},emits:["update:modelValue"],setup(e,{emit:n}){const t=e,$=n,p=V(()=>`app-input-${Math.random().toString(36).substr(2,9)}`),k=V(()=>t.error?`${p.value}-error`:void 0),y=g=>{const u=g.target,h=t.type==="number"?Number(u.value):u.value;$("update:modelValue",h)};return(g,u)=>(v(),m("div",xe,[e.label?(v(),m("label",{key:0,for:p.value,class:"block text-sm font-medium text-gray-700 mb-1"},[L(_(e.label)+" ",1),e.required?(v(),m("span",be,"*")):C("",!0)],8,ye)):C("",!0),a("div",he,[a("input",{id:p.value,type:e.type,placeholder:e.placeholder,disabled:e.disabled,required:e.required,autocomplete:e.autocomplete,value:e.modelValue,onInput:y,"aria-invalid":!!e.error,"aria-describedby":k.value,"aria-required":e.required,inputmode:e.type==="number"?"numeric":void 0,class:j(["w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-colors",[e.error?"border-red-500 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"]])},null,42,_e),se(g.$slots,"suffix",{},void 0,!0)]),x(D,{name:"slide-fade"},{default:E(()=>[e.error?(v(),m("p",{key:0,id:k.value,class:"text-sm text-red-600 mt-1"},_(e.error),9,Ve)):C("",!0)]),_:1})]))}}),we=A($e,[["__scopeId","data-v-4fcbefe9"]]),ke={class:"w-full space-y-4"},Pe={class:"flex flex-col sm:flex-row gap-4"},Me={class:"flex-1"},Ce={class:"flex-1"},Se={key:0,class:"flex items-center justify-center py-8"},Ie={key:1,class:"space-y-2"},Ee={class:"text-sm font-medium text-gray-700"},Le=["onClick"],Be={class:"flex items-start justify-between"},Te={class:"flex-1"},Ne={class:"flex items-center gap-2 mb-1"},qe={class:"text-lg font-semibold text-gray-900"},ze={class:"text-sm text-gray-600 space-y-1"},De={key:0,class:"flex items-center"},Ae={class:"ml-1"},Ue={key:1,class:"flex items-center"},je={class:"ml-1"},Fe={key:2,class:"flex items-center"},Oe={class:"ml-1"},Ke={class:"flex items-center"},Ge={class:"ml-1 font-mono"},Re={key:0,class:"ml-4 text-primary"},He={key:2,class:"text-center py-8"},Je={__name:"MesaSelector",props:{modelValue:{type:Object,default:null},initialProvinciaId:{type:Number,default:null}},emits:["update:modelValue"],setup(e,{emit:n}){const t=e,$=n,p=ge(),k=me(),y=b(null),g=b(""),u=b(null),h=V(()=>p.loading),S=V(()=>k.provinciasOrdenadas.map(o=>({value:o.id,label:o.nombre})));V(()=>{if(!y.value)return[];const o=p.mesasPorProvincia(y.value),d=g.value.trim().toLowerCase();return d?o.filter(i=>(i.numero?.toString()||"").includes(d)).slice(0,10):o.slice(0,10)});const P=()=>{u.value&&clearTimeout(u.value),u.value=setTimeout(()=>{},400)},c=V(()=>{if(!y.value)return[];let o=p.mesasPorProvincia(y.value);const d=g.value.trim().toLowerCase();return d&&(o=o.filter(i=>(i.numero?.toString()||"").includes(d))),o.slice(0,10)}),f=async o=>{if(!o){y.value=null,g.value="";return}y.value=o,g.value="";try{await p.fetchMesasPorProvincia(o)}catch(d){console.error("Error al cargar mesas:",d)}},s=o=>{$("update:modelValue",o)},r=o=>t.modelValue&&t.modelValue.id===o.id;return Q(g,()=>{P()}),O(async()=>{if(k.provincias.length===0&&await k.fetchProvincias().catch(o=>{console.error("Error al cargar provincias:",o)}),t.initialProvinciaId){y.value=t.initialProvinciaId;try{await p.fetchMesasPorProvincia(t.initialProvinciaId)}catch(o){console.error("Error al cargar mesas:",o)}}}),(o,d)=>(v(),m("div",ke,[a("div",Pe,[a("div",Me,[x(fe,{modelValue:y.value,"onUpdate:modelValue":[d[0]||(d[0]=i=>y.value=i),f],options:S.value,label:"Provincia",placeholder:"Seleccionar provincia..."},null,8,["modelValue","options"])]),a("div",Ce,[x(we,{modelValue:g.value,"onUpdate:modelValue":d[1]||(d[1]=i=>g.value=i),type:"text",label:"Buscar por ID",placeholder:"Ingrese ID de mesa..."},null,8,["modelValue"])])]),h.value?(v(),m("div",Se,[x(de,{size:"md",color:"primary"}),d[2]||(d[2]=a("span",{class:"ml-2 text-gray-600"},"Cargando mesas...",-1))])):c.value.length>0?(v(),m("div",Ie,[a("h4",Ee," Mesas encontradas ("+_(c.value.length)+_(c.value.length>=10?"+":"")+") ",1),x(re,{name:"mesa-list",tag:"ul",class:"space-y-2"},{default:E(()=>[(v(!0),m(W,null,X(c.value,i=>(v(),m("li",{key:i.id,onClick:B=>s(i),class:j(["p-4 border rounded-lg cursor-pointer transition-all duration-200 hover:shadow-md",[r(i)?"border-primary bg-primary/5 ring-2 ring-primary/20":"border-gray-200 hover:border-gray-300"]])},[a("div",Be,[a("div",Te,[a("div",Ne,[a("h5",qe," Mesa #"+_(i.numero),1),x(ve,{variant:i.telegramaCargado?"success":"warning",text:i.telegramaCargado?"Cargada":"Pendiente"},null,8,["variant","text"])]),a("div",ze,[i.escuela?(v(),m("p",De,[d[3]||(d[3]=a("span",{class:"font-medium"},"Escuela:",-1)),a("span",Ae,_(i.escuela),1)])):C("",!0),i.direccion?(v(),m("p",Ue,[d[4]||(d[4]=a("span",{class:"font-medium"},"Dirección:",-1)),a("span",je,_(i.direccion),1)])):C("",!0),i.circuito?(v(),m("p",Fe,[d[5]||(d[5]=a("span",{class:"font-medium"},"Circuito:",-1)),a("span",Oe,_(i.circuito),1)])):C("",!0),a("p",Ke,[d[6]||(d[6]=a("span",{class:"font-medium"},"Electores habilitados:",-1)),a("span",Ge,_(i.electores||0),1)])])]),r(i)?(v(),m("div",Re,[...d[7]||(d[7]=[a("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)])])):C("",!0)])],10,Le))),128))]),_:1})])):y.value&&!h.value?(v(),m("div",He,[...d[8]||(d[8]=[oe('<div class="text-gray-400 mb-2" data-v-3f04e3d0><svg class="w-12 h-12 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3f04e3d0><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-3f04e3d0></path></svg></div><p class="text-gray-600" data-v-3f04e3d0>No se encontraron mesas</p><p class="text-sm text-gray-500 mt-1" data-v-3f04e3d0> Intente con otros filtros o seleccione una provincia diferente </p>',3)])])):C("",!0)]))}},Qe=A(Je,[["__scopeId","data-v-3f04e3d0"]]),F={getAll(){return I.get("/listas").then(e=>e.data.data)},getById(e){return I.get(`/listas/${e}`).then(n=>n.data.data)},getByProvincia(e){return I.get("/listas",{params:{provincia_id:e}}).then(n=>n.data.data)},getCandidatos(e){return I.get(`/listas/${e}/candidatos`).then(n=>n.data.data)}},We=H("lista",()=>{const e=b([]),n=b(!1),t=b(null),$=V(()=>e.value.filter(s=>s.activa)),p=V(()=>s=>e.value.filter(r=>r.cargo===s)),k=V(()=>s=>e.value.filter(r=>r.provincia_id===s)),y=V(()=>e.value.length);async function g(){n.value=!0,t.value=null;try{const s=await F.getAll();e.value=s,console.log("✅ Listas cargadas:",s.length)}catch(s){t.value="Error al cargar listas: "+s.message,console.error("Error:",s)}finally{n.value=!1}}async function u(s){try{const r=await F.getByProvincia(s);return console.log(`✅ Listas de provincia ${s} cargadas:`,r.length),r}catch(r){return t.value=`Error al cargar listas de provincia ${s}: ${r.message}`,console.error("Error:",r),[]}}async function h(s){try{const r=await F.getCandidatos(s);return console.log(`✅ Candidatos de lista ${s} cargados:`,r.length),r}catch(r){return t.value=`Error al cargar candidatos de lista ${s}: ${r.message}`,console.error("Error:",r),[]}}function S(s){const r={id:Date.now(),activa:!0,...s};return e.value.push(r),r}function P(s,r){const o=e.value.findIndex(d=>d.id===s);return o!==-1?(e.value[o]={...e.value[o],...r},e.value[o]):null}function c(s){const r=e.value.find(o=>o.id===s);return r?(r.activa=!1,r):null}function f(){t.value=null}return{listas:e,loading:n,error:t,listasActivas:$,listasPorCargo:p,listasPorProvincia:k,totalListas:y,cargarListas:g,cargarListasPorProvincia:u,cargarCandidatosDeLista:h,agregarLista:S,actualizarLista:P,desactivarLista:c,limpiarError:f}}),Xe={class:"w-full"},Ye=["for"],Ze={key:0,class:"text-red-500"},ea={class:"relative"},aa=["id","placeholder","disabled","required","value","aria-invalid","aria-describedby","aria-required"],ta=["id"],sa=J({__name:"VotosInput",props:{modelValue:{},max:{},label:{},error:{},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},placeholder:{}},emits:["update:modelValue","input"],setup(e,{emit:n}){const t=e,$=n,p=V(()=>`votos-input-${Math.random().toString(36).substr(2,9)}`),k=V(()=>t.error?`${p.value}-error`:void 0),y=b(!1),g=s=>{const r=typeof s=="string"?Number(s):s;return isNaN(r)?{isValid:!1,error:"Debe ser un número válido"}:r<0?{isValid:!1,error:"No puede ser negativo"}:Number.isInteger(r)?t.max!==void 0&&r>t.max?{isValid:!1,error:`No puede ser mayor a ${t.max}`}:{isValid:!0}:{isValid:!1,error:"Debe ser un número entero"}},u=V(()=>g(t.modelValue)),h=V(()=>{if(!t.modelValue||y.value)return t.modelValue?.toString()||"";const s=typeof t.modelValue=="string"?Number(t.modelValue):t.modelValue;return isNaN(s)?"":N(s)}),S=s=>{const r=["Backspace","Delete","Tab","Escape","Enter"],o=["a","c","v","x"],d=["Home","End","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"],i=s.key;r.includes(i)||s.ctrlKey&&o.includes(i.toLowerCase())||d.includes(i)||/^\d$/.test(i)||s.preventDefault()},P=s=>{const r=s.target,o=Number(r.value);isNaN(o)||($("update:modelValue",o),$("input",o))},c=()=>{y.value=!0},f=()=>{y.value=!1};return(s,r)=>(v(),m("div",Xe,[e.label?(v(),m("label",{key:0,for:p.value,class:"block text-sm font-medium text-gray-700 mb-1"},[L(_(e.label)+" ",1),e.required?(v(),m("span",Ze,"*")):C("",!0)],8,Ye)):C("",!0),a("div",ea,[a("input",{id:p.value,type:"number",placeholder:e.placeholder||"0",disabled:e.disabled,required:e.required,value:h.value,min:"0",step:"1",inputmode:"numeric","aria-invalid":!!u.value.error,"aria-describedby":k.value,"aria-required":e.required,onKeypress:S,onInput:P,onFocus:c,onBlur:f,class:j(["w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-colors font-mono text-right",[u.value.error?"border-red-500 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300"]])},null,42,aa)]),x(D,{name:"slide-fade"},{default:E(()=>[u.value.error?(v(),m("p",{key:0,id:k.value,class:"text-sm text-red-600 mt-1"},_(u.value.error),9,ta)):C("",!0)]),_:1})]))}}),z=A(sa,[["__scopeId","data-v-3edf748d"]]),ra={class:"grid grid-cols-2 gap-4 text-sm"},oa={class:"ml-2 font-semibold text-gray-900"},la={class:"ml-2 font-semibold text-gray-900"},na={class:"mt-4"},ia={key:0,class:"mt-1 text-sm text-red-500"},da={key:0,class:"text-center py-4 text-gray-500"},ua={key:1,class:"space-y-4"},ca={class:"font-medium text-gray-900 mb-3"},ma={key:0,class:"text-gray-500 text-sm ml-2"},va={class:"grid grid-cols-2 gap-4"},fa={class:"grid grid-cols-3 gap-4"},pa={class:"space-y-4"},ga={class:"grid grid-cols-3 gap-4 text-center"},xa={class:"bg-gray-100 rounded-lg p-3"},ya={class:"text-2xl font-bold text-gray-900"},ba={class:"bg-gray-100 rounded-lg p-3"},ha={class:"text-2xl font-bold text-gray-900"},_a={class:"bg-gray-100 rounded-lg p-3"},Va={key:0,class:"flex items-center p-4 rounded-lg bg-green-50 border border-green-200"},$a={class:"text-sm text-green-700"},wa={key:1,class:"flex items-center p-4 rounded-lg bg-red-50 border border-red-200"},ka={class:"text-sm text-red-700"},Pa={key:0,class:"flex items-center p-4 rounded-lg bg-blue-50 border border-blue-200"},Ma={key:0,class:"flex items-center p-4 rounded-lg bg-red-50 border border-red-200"},Ca={class:"text-sm font-medium text-red-800"},Sa={class:"flex justify-end gap-4 pt-4"},Ia={__name:"TelegramaForm",props:{mesa:{type:Object,required:!0,validator:e=>e&&typeof e.numero<"u"&&typeof e.electores<"u"}},emits:["submit","cancel"],setup(e,{emit:n}){const t=e,$=n,p=pe(),k=We(),y=Y(),g=b(!1),u=b(null),h=b(!1),S=b([]),P=b({}),c=b(0),f=b(0),s=b(0),r=b("");O(async()=>{t.mesa?.provincia_id&&(S.value=await k.cargarListasPorProvincia(t.mesa.provincia_id),S.value.forEach(M=>{P.value[M.id]={diputados:0,senadores:0}}))});const o=V(()=>{let M=0;return Object.values(P.value).forEach(l=>{M+=parseInt(l.diputados||0,10),M+=parseInt(l.senadores||0,10)}),M+=parseInt(c.value||0,10),M+=parseInt(f.value||0,10),M+=parseInt(s.value||0,10),M}),d=V(()=>t.mesa.electores-o.value),i=V(()=>o.value<=t.mesa.electores&&r.value.trim().length>0),B=V(()=>i.value?0:o.value-t.mesa.electores),Z=V(()=>!t.mesa.electores||t.mesa.electores===0?0:(o.value/t.mesa.electores*100).toFixed(1)),ee=()=>{$("cancel"),y.back()},ae=async()=>{if(!(!i.value||g.value)){g.value=!0,u.value=null,h.value=!1;try{const M={mesa_id:t.mesa.id,usuario:r.value.trim(),votos:Object.entries(P.value).map(([w,T])=>({lista_id:parseInt(w,10),votos_diputados:parseInt(T.diputados||0,10),votos_senadores:parseInt(T.senadores||0,10)})),blancos:parseInt(c.value||0,10),nulos:parseInt(f.value||0,10),recurridos:parseInt(s.value||0,10)},l=await p.guardarTelegrama(M);l.success?(h.value=!0,$("submit",l.data),te()):u.value=l.error?.message||"Error al guardar el telegrama"}catch(M){u.value=M.message||"Error inesperado al guardar"}finally{g.value=!1}}},te=()=>{Object.keys(P.value).forEach(M=>{P.value[M]={diputados:0,senadores:0}}),c.value=0,f.value=0,s.value=0,r.value="",u.value=null,h.value=!1};return Q(h,M=>{M&&setTimeout(()=>{h.value=!1},3e3)}),(M,l)=>(v(),m("form",{onSubmit:ie(ae,["prevent"]),class:"space-y-6"},[x(U,{title:"Información de la Mesa"},{default:E(()=>[a("div",ra,[a("div",null,[l[4]||(l[4]=a("span",{class:"text-gray-500"},"Número de Mesa:",-1)),a("span",oa,_(e.mesa.numero),1)]),a("div",null,[l[5]||(l[5]=a("span",{class:"text-gray-500"},"Electores Habilitados:",-1)),a("span",la,_(q(N)(e.mesa.electores)),1)])]),a("div",na,[l[6]||(l[6]=a("label",{for:"usuario",class:"block text-sm font-medium text-gray-700 mb-1"},[L(" Nombre del Fiscal/Operador "),a("span",{class:"text-red-500"},"*")],-1)),le(a("input",{id:"usuario","onUpdate:modelValue":l[0]||(l[0]=w=>r.value=w),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ingrese su nombre",required:""},null,512),[[ne,r.value]]),r.value.trim().length===0?(v(),m("p",ia," Este campo es requerido ")):C("",!0)])]),_:1}),x(U,{title:"Votos por Lista"},{default:E(()=>[S.value.length===0?(v(),m("div",da," Cargando listas... ")):(v(),m("div",ua,[(v(!0),m(W,null,X(S.value,w=>(v(),m("div",{key:w.id,class:"border rounded-lg p-4 bg-gray-50"},[a("h4",ca,[L(_(w.nombre)+" ",1),w.numero?(v(),m("span",ma," (Lista "+_(w.numero)+") ",1)):C("",!0)]),a("div",va,[x(z,{modelValue:P.value[w.id].diputados,"onUpdate:modelValue":T=>P.value[w.id].diputados=T,label:"Diputados",max:e.mesa.electores,placeholder:"0"},null,8,["modelValue","onUpdate:modelValue","max"]),x(z,{modelValue:P.value[w.id].senadores,"onUpdate:modelValue":T=>P.value[w.id].senadores=T,label:"Senadores",max:e.mesa.electores,placeholder:"0"},null,8,["modelValue","onUpdate:modelValue","max"])])]))),128))]))]),_:1}),x(U,{title:"Otros Votos"},{default:E(()=>[a("div",fa,[x(z,{modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=w=>c.value=w),label:"Votos en Blanco",max:e.mesa.electores,placeholder:"0"},null,8,["modelValue","max"]),x(z,{modelValue:f.value,"onUpdate:modelValue":l[2]||(l[2]=w=>f.value=w),label:"Votos Nulos",max:e.mesa.electores,placeholder:"0"},null,8,["modelValue","max"]),x(z,{modelValue:s.value,"onUpdate:modelValue":l[3]||(l[3]=w=>s.value=w),label:"Votos Recurridos",max:e.mesa.electores,placeholder:"0"},null,8,["modelValue","max"])])]),_:1}),x(U,{title:"Resumen de Votos"},{default:E(()=>[a("div",pa,[a("div",ga,[a("div",xa,[a("div",ya,_(q(N)(o.value)),1),l[7]||(l[7]=a("div",{class:"text-xs text-gray-500"},"Total Votos",-1))]),a("div",ba,[a("div",ha,_(q(N)(e.mesa.electores)),1),l[8]||(l[8]=a("div",{class:"text-xs text-gray-500"},"Electores",-1))]),a("div",_a,[a("div",{class:j(["text-2xl font-bold",i.value?"text-green-600":"text-red-600"])},_(Z.value)+"% ",3),l[9]||(l[9]=a("div",{class:"text-xs text-gray-500"},"Participación",-1))])]),i.value&&o.value>0?(v(),m("div",Va,[l[11]||(l[11]=a("svg",{class:"w-5 h-5 text-green-500 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),a("div",null,[l[10]||(l[10]=a("p",{class:"text-sm font-medium text-green-800"},"Datos válidos",-1)),a("p",$a," Abstenciones: "+_(q(N)(d.value))+" electores ",1)])])):i.value?C("",!0):(v(),m("div",wa,[l[13]||(l[13]=a("svg",{class:"w-5 h-5 text-red-500 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),a("div",null,[l[12]||(l[12]=a("p",{class:"text-sm font-medium text-red-800"},"Error de validación",-1)),a("p",ka," El total de votos excede el número de electores por "+_(q(N)(B.value))+" votos ",1)])])),x(D,{name:"fade"},{default:E(()=>[h.value?(v(),m("div",Pa,[...l[14]||(l[14]=[a("svg",{class:"w-5 h-5 text-blue-500 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),a("p",{class:"text-sm font-medium text-blue-800"},"Telegrama guardado correctamente",-1)])])):C("",!0)]),_:1}),x(D,{name:"fade"},{default:E(()=>[u.value?(v(),m("div",Ma,[l[15]||(l[15]=a("svg",{class:"w-5 h-5 text-red-500 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),a("p",Ca,_(u.value),1)])):C("",!0)]),_:1})])]),_:1}),a("div",Sa,[x(K,{variant:"secondary",type:"button",onClick:ee},{default:E(()=>[...l[16]||(l[16]=[L(" Cancelar ",-1)])]),_:1}),x(K,{variant:"primary",type:"submit",disabled:!i.value||g.value,loading:g.value},{default:E(()=>[...l[17]||(l[17]=[L(" Guardar Telegrama ",-1)])]),_:1},8,["disabled","loading"])])],32))}},Ea=A(Ia,[["__scopeId","data-v-2e285956"]]),La={class:"min-h-screen flex flex-col"},Ba={class:"flex-1"},Ta={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Na={key:"step1"},qa={key:"step2"},za={__name:"CargaTelegramaPage",setup(e){const n=Y(),t=b(null),$=b(null);O(()=>{const u=sessionStorage.getItem("ultimaProvincia");u&&($.value=parseInt(u,10))});const p=()=>{n.push("/")},k=u=>{t.value=u,u?.provincia_id&&sessionStorage.setItem("ultimaProvincia",u.provincia_id.toString())},y=u=>{t.value=null},g=()=>{t.value=null};return(u,h)=>(v(),m("div",La,[x(ue),a("main",Ba,[a("div",Ta,[a("div",{class:"mb-6"},[a("button",{onClick:p,class:"inline-flex items-center text-primary hover:text-primary-dark transition-colors mb-4"},[...h[0]||(h[0]=[a("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),L(" Volver al Dashboard ",-1)])]),h[1]||(h[1]=a("h1",{class:"text-3xl font-bold text-gray-900"},"Carga de Telegrama",-1))]),x(D,{name:"step",mode:"out-in"},{default:E(()=>[t.value?(v(),m("div",qa,[x(Ea,{mesa:t.value,onSubmit:y,onCancel:g},null,8,["mesa"])])):(v(),m("div",Na,[x(Qe,{"initial-provincia-id":$.value,"onUpdate:modelValue":k},null,8,["initial-provincia-id"])]))]),_:1})])]),x(ce)]))}},Ga=A(za,[["__scopeId","data-v-49f0231e"]]);export{Ga as default};
