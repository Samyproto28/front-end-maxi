import{c as Y,o as B,a as K,b as S,u as z,H as Je,q as J,U as Se,V as Qe,f as A,E as me,m as N,g as ie,D as de,J as be,G as se,F as ve,M as Ge,W as $,I as ge,N as j,X as Xe,d as X,e as le,w as W,i as H,k as Oe,t as ne,n as oe,T as we,s as Re}from"./index-CBeB2GAs.js";import{d as q,e as Q,i as Ye,o as O,p as Le,l as Ae,f as G,q as Ze,n as pe,v as Pe,u as _,g as Ve,m as De,E as Fe,x as k,y as he,O as ze,j as M,h as re,z as et,B as tt,C as lt,D as nt,r as Ce}from"./api-DDywFk_F.js";function Ie(e,s){return B(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function ae(e,s,t){let a=t.initialDeps??[],l,i=!0;function n(){var o,c,d;let r;t.key&&((o=t.debug)!=null&&o.call(t))&&(r=Date.now());const u=e();if(!(u.length!==a.length||u.some((I,T)=>a[T]!==I)))return l;a=u;let C;if(t.key&&((c=t.debug)!=null&&c.call(t))&&(C=Date.now()),l=s(...u),t.key&&((d=t.debug)!=null&&d.call(t))){const I=Math.round((Date.now()-r)*100)/100,T=Math.round((Date.now()-C)*100)/100,D=T/16,P=(x,p)=>{for(x=String(x);x.length<p;)x=" "+x;return x};console.info(`%câ± ${P(T,5)} /${P(I,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*D,120))}deg 100% 31%);`,t?.key)}return t?.onChange&&!(i&&t.skipInitialOnChange)&&t.onChange(l),i=!1,l}return n.updateDeps=o=>{a=o},n}function Ee(e,s){if(e===void 0)throw new Error("Unexpected undefined");return e}const ot=(e,s)=>Math.abs(e-s)<1.01,at=(e,s,t)=>{let a;return function(...l){e.clearTimeout(a),a=e.setTimeout(()=>s.apply(this,l),t)}},Te=e=>{const{offsetWidth:s,offsetHeight:t}=e;return{width:s,height:t}},it=e=>e,st=e=>{const s=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),a=[];for(let l=s;l<=t;l++)a.push(l);return a},rt=(e,s)=>{const t=e.scrollElement;if(!t)return;const a=e.targetWindow;if(!a)return;const l=n=>{const{width:o,height:c}=n;s({width:Math.round(o),height:Math.round(c)})};if(l(Te(t)),!a.ResizeObserver)return()=>{};const i=new a.ResizeObserver(n=>{const o=()=>{const c=n[0];if(c?.borderBoxSize){const d=c.borderBoxSize[0];if(d){l({width:d.inlineSize,height:d.blockSize});return}}l(Te(t))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return i.observe(t,{box:"border-box"}),()=>{i.unobserve(t)}},ke={passive:!0},Me=typeof window>"u"?!0:"onscrollend"in window,ut=(e,s)=>{const t=e.scrollElement;if(!t)return;const a=e.targetWindow;if(!a)return;let l=0;const i=e.options.useScrollendEvent&&Me?()=>{}:at(a,()=>{s(l,!1)},e.options.isScrollingResetDelay),n=r=>()=>{const{horizontal:u,isRtl:f}=e.options;l=u?t.scrollLeft*(f&&-1||1):t.scrollTop,i(),s(l,r)},o=n(!0),c=n(!1);c(),t.addEventListener("scroll",o,ke);const d=e.options.useScrollendEvent&&Me;return d&&t.addEventListener("scrollend",c,ke),()=>{t.removeEventListener("scroll",o),d&&t.removeEventListener("scrollend",c)}},dt=(e,s,t)=>{if(s?.borderBoxSize){const a=s.borderBoxSize[0];if(a)return Math.round(a[t.options.horizontal?"inlineSize":"blockSize"])}return e[t.options.horizontal?"offsetWidth":"offsetHeight"]},ct=(e,{adjustments:s=0,behavior:t},a)=>{var l,i;const n=e+s;(i=(l=a.scrollElement)==null?void 0:l.scrollTo)==null||i.call(l,{[a.options.horizontal?"left":"top"]:n,behavior:t})};class vt{constructor(s){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const a=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(l=>{l.forEach(i=>{const n=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(n):n()})}));return{disconnect:()=>{var l;(l=a())==null||l.disconnect(),t=null},observe:l=>{var i;return(i=a())==null?void 0:i.observe(l,{box:"border-box"})},unobserve:l=>{var i;return(i=a())==null?void 0:i.unobserve(l)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([a,l])=>{typeof l>"u"&&delete t[a]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:it,rangeExtractor:st,onChange:()=>{},measureElement:dt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var a,l;(l=(a=this.options).onChange)==null||l.call(a,this,t)},this.maybeNotify=ae(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const a=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==a){if(this.cleanup(),!a){this.maybeNotify();return}this.scrollElement=a,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(l=>{this.observer.observe(l)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,l=>{this.scrollRect=l,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(l,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<l?"forward":"backward":null,this.scrollOffset=l,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,a)=>{const l=new Map,i=new Map;for(let n=a-1;n>=0;n--){const o=t[n];if(l.has(o.lane))continue;const c=i.get(o.lane);if(c==null||o.end>c.end?i.set(o.lane,o):o.end<c.end&&l.set(o.lane,!0),l.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((n,o)=>n.end===o.end?n.index-o.index:n.end-o.end)[0]:void 0},this.getMeasurementOptions=ae(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(t,a,l,i,n,o)=>(this.prevLanes!==void 0&&this.prevLanes!==o&&(this.lanesChangedFlag=!0),this.prevLanes=o,this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:a,scrollMargin:l,getItemKey:i,enabled:n,lanes:o}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=ae(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:a,scrollMargin:l,getItemKey:i,enabled:n,lanes:o},c)=>{if(!n)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>t)for(const f of this.laneAssignments.keys())f>=t&&this.laneAssignments.delete(f);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const d=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===t&&(this.lanesSettling=!1);const r=this.measurementsCache.slice(0,d),u=new Array(o).fill(void 0);for(let f=0;f<d;f++){const C=r[f];C&&(u[C.lane]=f)}for(let f=d;f<t;f++){const C=i(f),I=this.laneAssignments.get(f);let T,D;if(I!==void 0&&this.options.lanes>1){T=I;const b=u[T],v=b!==void 0?r[b]:void 0;D=v?v.end+this.options.gap:a+l}else{const b=this.options.lanes===1?r[f-1]:this.getFurthestMeasurement(r,f);D=b?b.end+this.options.gap:a+l,T=b?b.lane:f%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(f,T)}const P=c.get(C),x=typeof P=="number"?P:this.options.estimateSize(f),p=D+x;r[f]={index:f,start:D,size:x,end:p,key:C,lane:T},u[T]=f}return this.measurementsCache=r,r},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ae(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,a,l,i)=>this.range=t.length>0&&a>0?ft({measurements:t,outerSize:a,scrollOffset:l,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=ae(()=>{let t=null,a=null;const l=this.calculateRange();return l&&(t=l.startIndex,a=l.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,a]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,a]},(t,a,l,i,n)=>i===null||n===null?[]:t({startIndex:i,endIndex:n,overscan:a,count:l}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const a=this.options.indexAttribute,l=t.getAttribute(a);return l?parseInt(l,10):(console.warn(`Missing attribute name '${a}={index}' on measured element.`),-1)},this._measureElement=(t,a)=>{const l=this.indexFromElement(t),i=this.measurementsCache[l];if(!i)return;const n=i.key,o=this.elementsCache.get(n);o!==t&&(o&&this.observer.unobserve(o),this.observer.observe(t),this.elementsCache.set(n,t)),t.isConnected&&this.resizeItem(l,this.options.measureElement(t,a,this))},this.resizeItem=(t,a)=>{const l=this.measurementsCache[t];if(!l)return;const i=this.itemSizeCache.get(l.key)??l.size,n=a-i;n!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(l,n,this):l.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=n,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(l.index),this.itemSizeCache=new Map(this.itemSizeCache.set(l.key,a)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((a,l)=>{a.isConnected||(this.observer.unobserve(a),this.elementsCache.delete(l))});return}this._measureElement(t,void 0)},this.getVirtualItems=ae(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,a)=>{const l=[];for(let i=0,n=t.length;i<n;i++){const o=t[i],c=a[o];l.push(c)}return l},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const a=this.getMeasurements();if(a.length!==0)return Ee(a[$e(0,a.length-1,l=>Ee(a[l]).start,t)])},this.getOffsetForAlignment=(t,a,l=0)=>{const i=this.getSize(),n=this.getScrollOffset();a==="auto"&&(a=t>=n+i?"end":"start"),a==="center"?t+=(l-i)/2:a==="end"&&(t-=i);const o=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(o,t),0)},this.getOffsetForIndex=(t,a="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const l=this.measurementsCache[t];if(!l)return;const i=this.getSize(),n=this.getScrollOffset();if(a==="auto")if(l.end>=n+i-this.options.scrollPaddingEnd)a="end";else if(l.start<=n+this.options.scrollPaddingStart)a="start";else return[n,a];const o=a==="end"?l.end+this.options.scrollPaddingEnd:l.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,a,l.size),a]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(t,{align:a="start",behavior:l}={})=>{l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,a),{adjustments:void 0,behavior:l})},this.scrollToIndex=(t,{align:a="auto",behavior:l}={})=>{l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t=Math.max(0,Math.min(t,this.options.count-1));let i=0;const n=10,o=d=>{if(!this.targetWindow)return;const r=this.getOffsetForIndex(t,d);if(!r){console.warn("Failed to get offset for index:",t);return}const[u,f]=r;this._scrollToOffset(u,{adjustments:void 0,behavior:l}),this.targetWindow.requestAnimationFrame(()=>{const C=this.getScrollOffset(),I=this.getOffsetForIndex(t,f);if(!I){console.warn("Failed to get offset for index:",t);return}ot(I[0],C)||c(f)})},c=d=>{this.targetWindow&&(i++,i<n?this.targetWindow.requestAnimationFrame(()=>o(d)):console.warn(`Failed to scroll to index ${t} after ${n} attempts.`))};o(a)},this.scrollBy=(t,{behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:a})},this.getTotalSize=()=>{var t;const a=this.getMeasurements();let l;if(a.length===0)l=this.options.paddingStart;else if(this.options.lanes===1)l=((t=a[a.length-1])==null?void 0:t.end)??0;else{const i=Array(this.options.lanes).fill(null);let n=a.length-1;for(;n>=0&&i.some(o=>o===null);){const o=a[n];i[o.lane]===null&&(i[o.lane]=o.end),n--}l=Math.max(...i.filter(o=>o!==null))}return Math.max(l-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:a,behavior:l})=>{this.options.scrollToFn(t,{behavior:l,adjustments:a},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(s)}}const $e=(e,s,t,a)=>{for(;e<=s;){const l=(e+s)/2|0,i=t(l);if(i<a)e=l+1;else if(i>a)s=l-1;else return l}return e>0?e-1:0};function ft({measurements:e,outerSize:s,scrollOffset:t,lanes:a}){const l=e.length-1,i=c=>e[c].start;if(e.length<=a)return{startIndex:0,endIndex:l};let n=$e(0,l,i,t),o=n;if(a===1)for(;o<l&&e[o].end<t+s;)o++;else if(a>1){const c=Array(a).fill(0);for(;o<l&&c.some(r=>r<t+s);){const r=e[o];c[r.lane]=r.end,o++}const d=Array(a).fill(t+s);for(;n>=0&&d.some(r=>r>=t);){const r=e[n];d[r.lane]=r.start,n--}n=Math.max(0,n-n%a),o=Math.min(l,o+(a-1-o%a))}return{startIndex:n,endIndex:o}}function pt(e){const s=new vt(z(e)),t=Je(s),a=s._didMount();return J(()=>z(e).getScrollElement(),l=>{l&&s._willUpdate()},{immediate:!0}),J(()=>z(e),l=>{s.setOptions({...l,onChange:(i,n)=>{var o;Se(t),(o=l.onChange)==null||o.call(l,i,n)}}),s._willUpdate(),Se(t)},{immediate:!0}),Qe(a),t}function ht(e){return pt(S(()=>({observeElementRect:rt,observeElementOffset:ut,scrollToFn:ct,...z(e)})))}function Be(e,s,t){let a=A(t?.value),l=S(()=>e.value!==void 0);return[S(()=>l.value?e.value:a.value),function(i){return l.value||(a.value=i),s?.(i)}]}function mt(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(s=>setTimeout(()=>{throw s}))}function fe(){let e=[],s={addEventListener(t,a,l,i){return t.addEventListener(a,l,i),s.add(()=>t.removeEventListener(a,l,i))},requestAnimationFrame(...t){let a=requestAnimationFrame(...t);s.add(()=>cancelAnimationFrame(a))},nextFrame(...t){s.requestAnimationFrame(()=>{s.requestAnimationFrame(...t)})},setTimeout(...t){let a=setTimeout(...t);s.add(()=>clearTimeout(a))},microTask(...t){let a={current:!0};return mt(()=>{a.current&&t[0]()}),s.add(()=>{a.current=!1})},style(t,a,l){let i=t.style.getPropertyValue(a);return Object.assign(t.style,{[a]:l}),this.add(()=>{Object.assign(t.style,{[a]:i})})},group(t){let a=fe();return t(a),this.add(()=>a.dispose())},add(t){return e.push(t),()=>{let a=e.indexOf(t);if(a>=0)for(let l of e.splice(a,1))l()}},dispose(){for(let t of e.splice(0))t()}};return s}function bt(){let e=fe();return me(()=>e.dispose()),e}function gt(){let e=bt();return s=>{e.dispose(),e.nextFrame(s)}}var xe=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(xe||{});let je=N({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:s,attrs:t}){return()=>{var a;let{features:l,...i}=e,n={"aria-hidden":(l&2)===2?!0:(a=i["aria-hidden"])!=null?a:void 0,hidden:(l&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(l&4)===4&&(l&2)!==2&&{display:"none"}}};return q({ourProps:n,theirProps:i,slot:{},attrs:t,slots:s,name:"Hidden"})}}});var _e=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(_e||{});function xt(e){function s(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",s))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",s),s())}let Z=[];xt(()=>{function e(s){s.target instanceof HTMLElement&&s.target!==document.body&&Z[0]!==s.target&&(Z.unshift(s.target),Z=Z.filter(t=>t!=null&&t.isConnected),Z.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function ye(e={},s=null,t=[]){for(let[a,l]of Object.entries(e))We(t,Ne(s,a),l);return t}function Ne(e,s){return e?e+"["+s+"]":s}function We(e,s,t){if(Array.isArray(t))for(let[a,l]of t.entries())We(e,Ne(s,a.toString()),l);else t instanceof Date?e.push([s,t.toISOString()]):typeof t=="boolean"?e.push([s,t?"1":"0"]):typeof t=="string"?e.push([s,t]):typeof t=="number"?e.push([s,`${t}`]):t==null?e.push([s,""]):ye(t,s,e)}var yt={};function St(e,s){return e===s}var Ot=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ot||{}),wt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(wt||{}),Rt=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Rt||{});let qe=Symbol("ComboboxContext");function ee(e){let s=be(qe,null);if(s===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ee),t}return s}let Ue=Symbol("VirtualContext"),Ct=N({name:"VirtualProvider",setup(e,{slots:s}){let t=ee("VirtualProvider"),a=S(()=>{let o=O(t.optionsRef);if(!o)return{start:0,end:0};let c=window.getComputedStyle(o);return{start:parseFloat(c.paddingBlockStart||c.paddingTop),end:parseFloat(c.paddingBlockEnd||c.paddingBottom)}}),l=ht(S(()=>({scrollPaddingStart:a.value.start,scrollPaddingEnd:a.value.end,count:t.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return O(t.optionsRef)},overscan:12}))),i=S(()=>{var o;return(o=t.virtual.value)==null?void 0:o.options}),n=A(0);return J([i],()=>{n.value+=1}),ge(Ue,t.virtual.value?l:null),()=>[se("div",{style:{position:"relative",width:"100%",height:`${l.value.getTotalSize()}px`},ref:o=>{if(o){if(typeof process<"u"&&yt.JEST_WORKER_ID!==void 0||t.activationTrigger.value===0)return;t.activeOptionIndex.value!==null&&t.virtual.value.options.length>t.activeOptionIndex.value&&l.value.scrollToIndex(t.activeOptionIndex.value)}}},l.value.getVirtualItems().map(o=>Xe(s.default({option:t.virtual.value.options[o.index],open:t.comboboxState.value===0})[0],{key:`${n.value}-${o.index}`,"data-index":o.index,"aria-setsize":t.virtual.value.options.length,"aria-posinset":o.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${o.start}px)`,overflowAnchor:"none"}})))]}}),It=N({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:s,attrs:t,emit:a}){let l=A(1),i=A(null),n=A(null),o=A(null),c=A(null),d=A({static:!1,hold:!1}),r=A([]),u=A(null),f=A(2),C=A(!1);function I(m=g=>g){let g=u.value!==null?r.value[u.value]:null,R=m(r.value.slice()),E=R.length>0&&R[0].dataRef.order.value!==null?R.sort((F,U)=>F.dataRef.order.value-U.dataRef.order.value):ze(R,F=>O(F.dataRef.domRef)),V=g?E.indexOf(g):null;return V===-1&&(V=null),{options:E,activeOptionIndex:V}}let T=S(()=>e.multiple?1:0),D=S(()=>e.nullable),[P,x]=Be(S(()=>e.modelValue),m=>a("update:modelValue",m),S(()=>e.defaultValue)),p=S(()=>P.value===void 0?_(T.value,{1:[],0:void 0}):P.value),b=null,v=null;function y(m){return _(T.value,{0(){return x?.(m)},1:()=>{let g=$(h.value.value).slice(),R=$(m),E=g.findIndex(V=>h.compare(R,$(V)));return E===-1?g.push(R):g.splice(E,1),x?.(g)}})}let w=S(()=>{});J([w],([m],[g])=>{if(h.virtual.value&&m&&g&&u.value!==null){let R=m.indexOf(g[u.value]);R!==-1?u.value=R:u.value=null}});let h={comboboxState:l,value:p,mode:T,compare(m,g){if(typeof e.by=="string"){let R=e.by;return m?.[R]===g?.[R]}return e.by===null?St(m,g):e.by(m,g)},calculateIndex(m){return h.virtual.value?e.by===null?h.virtual.value.options.indexOf(m):h.virtual.value.options.findIndex(g=>h.compare(g,m)):r.value.findIndex(g=>h.compare(g.dataRef.value,m))},defaultValue:S(()=>e.defaultValue),nullable:D,immediate:S(()=>!1),virtual:S(()=>null),inputRef:n,labelRef:i,buttonRef:o,optionsRef:c,disabled:S(()=>e.disabled),options:r,change(m){x(m)},activeOptionIndex:S(()=>{if(C.value&&u.value===null&&(h.virtual.value?h.virtual.value.options.length>0:r.value.length>0)){if(h.virtual.value){let g=h.virtual.value.options.findIndex(R=>{var E;return!((E=h.virtual.value)!=null&&E.disabled(R))});if(g!==-1)return g}let m=r.value.findIndex(g=>!g.dataRef.disabled);if(m!==-1)return m}return u.value}),activationTrigger:f,optionsPropsRef:d,closeCombobox(){C.value=!1,!e.disabled&&l.value!==1&&(l.value=1,u.value=null)},openCombobox(){if(C.value=!0,!e.disabled&&l.value!==0){if(h.value.value){let m=h.calculateIndex(h.value.value);m!==-1&&(u.value=m)}l.value=0}},setActivationTrigger(m){f.value=m},goToOption(m,g,R){C.value=!1,b!==null&&cancelAnimationFrame(b),b=requestAnimationFrame(()=>{if(e.disabled||c.value&&!d.value.static&&l.value===1)return;if(h.virtual.value){u.value=m===k.Specific?g:he({focus:m},{resolveItems:()=>h.virtual.value.options,resolveActiveIndex:()=>{var F,U;return(U=(F=h.activeOptionIndex.value)!=null?F:h.virtual.value.options.findIndex(te=>{var ue;return!((ue=h.virtual.value)!=null&&ue.disabled(te))}))!=null?U:null},resolveDisabled:F=>h.virtual.value.disabled(F),resolveId(){throw new Error("Function not implemented.")}}),f.value=R??2;return}let E=I();if(E.activeOptionIndex===null){let F=E.options.findIndex(U=>!U.dataRef.disabled);F!==-1&&(E.activeOptionIndex=F)}let V=m===k.Specific?g:he({focus:m},{resolveItems:()=>E.options,resolveActiveIndex:()=>E.activeOptionIndex,resolveId:F=>F.id,resolveDisabled:F=>F.dataRef.disabled});u.value=V,f.value=R??2,r.value=E.options})},selectOption(m){let g=r.value.find(E=>E.id===m);if(!g)return;let{dataRef:R}=g;y(R.value)},selectActiveOption(){if(h.activeOptionIndex.value!==null){if(h.virtual.value)y(h.virtual.value.options[h.activeOptionIndex.value]);else{let{dataRef:m}=r.value[h.activeOptionIndex.value];y(m.value)}h.goToOption(k.Specific,h.activeOptionIndex.value)}},registerOption(m,g){let R=Ge({id:m,dataRef:g});if(h.virtual.value){r.value.push(R);return}v&&cancelAnimationFrame(v);let E=I(V=>(V.push(R),V));u.value===null&&h.isSelected(g.value.value)&&(E.activeOptionIndex=E.options.indexOf(R)),r.value=E.options,u.value=E.activeOptionIndex,f.value=2,E.options.some(V=>!O(V.dataRef.domRef))&&(v=requestAnimationFrame(()=>{let V=I();r.value=V.options,u.value=V.activeOptionIndex}))},unregisterOption(m,g){if(b!==null&&cancelAnimationFrame(b),g&&(C.value=!0),h.virtual.value){r.value=r.value.filter(E=>E.id!==m);return}let R=I(E=>{let V=E.findIndex(F=>F.id===m);return V!==-1&&E.splice(V,1),E});r.value=R.options,u.value=R.activeOptionIndex,f.value=2},isSelected(m){return _(T.value,{0:()=>h.compare($(h.value.value),$(m)),1:()=>$(h.value.value).some(g=>h.compare($(g),$(m)))})},isActive(m){return u.value===h.calculateIndex(m)}};Ve([n,o,c],()=>h.closeCombobox(),S(()=>l.value===0)),ge(qe,h),De(S(()=>_(l.value,{0:G.Open,1:G.Closed})));let L=S(()=>{var m;return(m=O(n))==null?void 0:m.closest("form")});return ie(()=>{J([L],()=>{if(!L.value||e.defaultValue===void 0)return;function m(){h.change(e.defaultValue)}return L.value.addEventListener("reset",m),()=>{var g;(g=L.value)==null||g.removeEventListener("reset",m)}},{immediate:!0})}),()=>{var m,g,R;let{name:E,disabled:V,form:F,...U}=e,te={open:l.value===0,disabled:V,activeIndex:h.activeOptionIndex.value,activeOption:h.activeOptionIndex.value===null?null:h.virtual.value?h.virtual.value.options[(m=h.activeOptionIndex.value)!=null?m:0]:(R=(g=h.options.value[h.activeOptionIndex.value])==null?void 0:g.dataRef.value)!=null?R:null,value:p.value};return se(ve,[...E!=null&&p.value!=null?ye({[E]:p.value}).map(([ue,Ke])=>se(je,Fe({features:xe.Hidden,key:ue,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:F,disabled:V,name:ue,value:Ke}))):[],q({theirProps:{...t,...pe(U,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:te,slots:s,attrs:t,name:"Combobox"})])}}}),Et=N({name:"ComboboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:null}},setup(e,{attrs:s,slots:t}){var a;let l=(a=e.id)!=null?a:`headlessui-combobox-label-${Q()}`,i=ee("ComboboxLabel");function n(){var o;(o=O(i.inputRef))==null||o.focus({preventScroll:!0})}return()=>{let o={open:i.comboboxState.value===0,disabled:i.disabled.value},{...c}=e,d={id:l,ref:i.labelRef,onClick:n};return q({ourProps:d,theirProps:c,slot:o,attrs:s,slots:t,name:"ComboboxLabel"})}}}),Tt=N({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:s,slots:t,expose:a}){var l;let i=(l=e.id)!=null?l:`headlessui-combobox-button-${Q()}`,n=ee("ComboboxButton");a({el:n.buttonRef,$el:n.buttonRef});function o(r){n.disabled.value||(n.comboboxState.value===0?n.closeCombobox():(r.preventDefault(),n.openCombobox()),j(()=>{var u;return(u=O(n.inputRef))==null?void 0:u.focus({preventScroll:!0})}))}function c(r){switch(r.key){case M.ArrowDown:r.preventDefault(),r.stopPropagation(),n.comboboxState.value===1&&n.openCombobox(),j(()=>{var u;return(u=n.inputRef.value)==null?void 0:u.focus({preventScroll:!0})});return;case M.ArrowUp:r.preventDefault(),r.stopPropagation(),n.comboboxState.value===1&&(n.openCombobox(),j(()=>{n.value.value||n.goToOption(k.Last)})),j(()=>{var u;return(u=n.inputRef.value)==null?void 0:u.focus({preventScroll:!0})});return;case M.Escape:if(n.comboboxState.value!==0)return;r.preventDefault(),n.optionsRef.value&&!n.optionsPropsRef.value.static&&r.stopPropagation(),n.closeCombobox(),j(()=>{var u;return(u=n.inputRef.value)==null?void 0:u.focus({preventScroll:!0})});return}}let d=Le(S(()=>({as:e.as,type:s.type})),n.buttonRef);return()=>{var r,u;let f={open:n.comboboxState.value===0,disabled:n.disabled.value,value:n.value.value},{...C}=e,I={ref:n.buttonRef,id:i,type:d.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(r=O(n.optionsRef))==null?void 0:r.id,"aria-expanded":n.comboboxState.value===0,"aria-labelledby":n.labelRef.value?[(u=O(n.labelRef))==null?void 0:u.id,i].join(" "):void 0,disabled:n.disabled.value===!0?!0:void 0,onKeydown:c,onClick:o};return q({ourProps:I,theirProps:C,slot:f,attrs:s,slots:t,name:"ComboboxButton"})}}}),kt=N({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:s,attrs:t,slots:a,expose:l}){var i;let n=(i=e.id)!=null?i:`headlessui-combobox-input-${Q()}`,o=ee("ComboboxInput"),c=S(()=>Ye(O(o.inputRef))),d={value:!1};l({el:o.inputRef,$el:o.inputRef});function r(){o.change(null);let v=O(o.optionsRef);v&&(v.scrollTop=0),o.goToOption(k.Nothing)}let u=S(()=>{var v;let y=o.value.value;return O(o.inputRef)?typeof e.displayValue<"u"&&y!==void 0?(v=e.displayValue(y))!=null?v:"":typeof y=="string"?y:"":""});ie(()=>{J([u,o.comboboxState,c],([v,y],[w,h])=>{if(d.value)return;let L=O(o.inputRef);L&&((h===0&&y===1||v!==w)&&(L.value=v),requestAnimationFrame(()=>{var m;if(d.value||!L||((m=c.value)==null?void 0:m.activeElement)!==L)return;let{selectionStart:g,selectionEnd:R}=L;Math.abs((R??0)-(g??0))===0&&g===0&&L.setSelectionRange(L.value.length,L.value.length)}))},{immediate:!0}),J([o.comboboxState],([v],[y])=>{if(v===0&&y===1){if(d.value)return;let w=O(o.inputRef);if(!w)return;let h=w.value,{selectionStart:L,selectionEnd:m,selectionDirection:g}=w;w.value="",w.value=h,g!==null?w.setSelectionRange(L,m,g):w.setSelectionRange(L,m)}})});let f=A(!1);function C(){f.value=!0}function I(){fe().nextFrame(()=>{f.value=!1})}let T=gt();function D(v){switch(d.value=!0,T(()=>{d.value=!1}),v.key){case M.Enter:if(d.value=!1,o.comboboxState.value!==0||f.value)return;if(v.preventDefault(),v.stopPropagation(),o.activeOptionIndex.value===null){o.closeCombobox();return}o.selectActiveOption(),o.mode.value===0&&o.closeCombobox();break;case M.ArrowDown:return d.value=!1,v.preventDefault(),v.stopPropagation(),_(o.comboboxState.value,{0:()=>o.goToOption(k.Next),1:()=>o.openCombobox()});case M.ArrowUp:return d.value=!1,v.preventDefault(),v.stopPropagation(),_(o.comboboxState.value,{0:()=>o.goToOption(k.Previous),1:()=>{o.openCombobox(),j(()=>{o.value.value||o.goToOption(k.Last)})}});case M.Home:if(v.shiftKey)break;return d.value=!1,v.preventDefault(),v.stopPropagation(),o.goToOption(k.First);case M.PageUp:return d.value=!1,v.preventDefault(),v.stopPropagation(),o.goToOption(k.First);case M.End:if(v.shiftKey)break;return d.value=!1,v.preventDefault(),v.stopPropagation(),o.goToOption(k.Last);case M.PageDown:return d.value=!1,v.preventDefault(),v.stopPropagation(),o.goToOption(k.Last);case M.Escape:if(d.value=!1,o.comboboxState.value!==0)return;v.preventDefault(),o.optionsRef.value&&!o.optionsPropsRef.value.static&&v.stopPropagation(),o.nullable.value&&o.mode.value===0&&o.value.value===null&&r(),o.closeCombobox();break;case M.Tab:if(d.value=!1,o.comboboxState.value!==0)return;o.mode.value===0&&o.activationTrigger.value!==1&&o.selectActiveOption(),o.closeCombobox();break}}function P(v){s("change",v),o.nullable.value&&o.mode.value===0&&v.target.value===""&&r(),o.openCombobox()}function x(v){var y,w,h;let L=(y=v.relatedTarget)!=null?y:Z.find(m=>m!==v.currentTarget);if(d.value=!1,!((w=O(o.optionsRef))!=null&&w.contains(L))&&!((h=O(o.buttonRef))!=null&&h.contains(L))&&o.comboboxState.value===0)return v.preventDefault(),o.mode.value===0&&(o.nullable.value&&o.value.value===null?r():o.activationTrigger.value!==1&&o.selectActiveOption()),o.closeCombobox()}function p(v){var y,w,h;let L=(y=v.relatedTarget)!=null?y:Z.find(m=>m!==v.currentTarget);(w=O(o.buttonRef))!=null&&w.contains(L)||(h=O(o.optionsRef))!=null&&h.contains(L)||o.disabled.value||o.immediate.value&&o.comboboxState.value!==0&&(o.openCombobox(),fe().nextFrame(()=>{o.setActivationTrigger(1)}))}let b=S(()=>{var v,y,w,h;return(h=(w=(y=e.defaultValue)!=null?y:o.defaultValue.value!==void 0?(v=e.displayValue)==null?void 0:v.call(e,o.defaultValue.value):null)!=null?w:o.defaultValue.value)!=null?h:""});return()=>{var v,y,w,h,L,m,g;let R={open:o.comboboxState.value===0},{displayValue:E,onChange:V,...F}=e,U={"aria-controls":(v=o.optionsRef.value)==null?void 0:v.id,"aria-expanded":o.comboboxState.value===0,"aria-activedescendant":o.activeOptionIndex.value===null?void 0:o.virtual.value?(y=o.options.value.find(te=>!o.virtual.value.disabled(te.dataRef.value)&&o.compare(te.dataRef.value,o.virtual.value.options[o.activeOptionIndex.value])))==null?void 0:y.id:(w=o.options.value[o.activeOptionIndex.value])==null?void 0:w.id,"aria-labelledby":(m=(h=O(o.labelRef))==null?void 0:h.id)!=null?m:(L=O(o.buttonRef))==null?void 0:L.id,"aria-autocomplete":"list",id:n,onCompositionstart:C,onCompositionend:I,onKeydown:D,onInput:P,onFocus:p,onBlur:x,role:"combobox",type:(g=t.type)!=null?g:"text",tabIndex:0,ref:o.inputRef,defaultValue:b.value,disabled:o.disabled.value===!0?!0:void 0};return q({ourProps:U,theirProps:F,slot:R,attrs:t,slots:a,features:re.RenderStrategy|re.Static,name:"ComboboxInput"})}}}),Mt=N({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:s,slots:t,expose:a}){let l=ee("ComboboxOptions"),i=`headlessui-combobox-options-${Q()}`;a({el:l.optionsRef,$el:l.optionsRef}),de(()=>{l.optionsPropsRef.value.static=e.static}),de(()=>{l.optionsPropsRef.value.hold=e.hold});let n=Ae(),o=S(()=>n!==null?(n.value&G.Open)===G.Open:l.comboboxState.value===0);Ze({container:S(()=>O(l.optionsRef)),enabled:S(()=>l.comboboxState.value===0),accept(d){return d.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:d.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(d){d.setAttribute("role","none")}});function c(d){d.preventDefault()}return()=>{var d,r,u;let f={open:l.comboboxState.value===0},C={"aria-labelledby":(u=(d=O(l.labelRef))==null?void 0:d.id)!=null?u:(r=O(l.buttonRef))==null?void 0:r.id,id:i,ref:l.optionsRef,role:"listbox","aria-multiselectable":l.mode.value===1?!0:void 0,onMousedown:c},I=pe(e,["hold"]);return q({ourProps:C,theirProps:I,slot:f,attrs:s,slots:l.virtual.value&&l.comboboxState.value===0?{...t,default:()=>[se(Ct,{},t.default)]}:t,features:re.RenderStrategy|re.Static,visible:o.value,name:"ComboboxOptions"})}}}),Lt=N({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:s,attrs:t,expose:a}){let l=ee("ComboboxOption"),i=`headlessui-combobox-option-${Q()}`,n=A(null),o=S(()=>e.disabled);a({el:n,$el:n});let c=S(()=>{var x;return l.virtual.value?l.activeOptionIndex.value===l.calculateIndex(e.value):l.activeOptionIndex.value===null?!1:((x=l.options.value[l.activeOptionIndex.value])==null?void 0:x.id)===i}),d=S(()=>l.isSelected(e.value)),r=be(Ue,null),u=S(()=>({disabled:e.disabled,value:e.value,domRef:n,order:S(()=>e.order)}));ie(()=>l.registerOption(i,u)),me(()=>l.unregisterOption(i,c.value)),de(()=>{let x=O(n);x&&r?.value.measureElement(x)}),de(()=>{l.comboboxState.value===0&&c.value&&(l.virtual.value||l.activationTrigger.value!==0&&j(()=>{var x,p;return(p=(x=O(n))==null?void 0:x.scrollIntoView)==null?void 0:p.call(x,{block:"nearest"})}))});function f(x){x.preventDefault(),x.button===_e.Left&&(o.value||(l.selectOption(i),et()||requestAnimationFrame(()=>{var p;return(p=O(l.inputRef))==null?void 0:p.focus({preventScroll:!0})}),l.mode.value===0&&l.closeCombobox()))}function C(){var x;if(e.disabled||(x=l.virtual.value)!=null&&x.disabled(e.value))return l.goToOption(k.Nothing);let p=l.calculateIndex(e.value);l.goToOption(k.Specific,p)}let I=Pe();function T(x){I.update(x)}function D(x){var p;if(!I.wasMoved(x)||e.disabled||(p=l.virtual.value)!=null&&p.disabled(e.value)||c.value)return;let b=l.calculateIndex(e.value);l.goToOption(k.Specific,b,0)}function P(x){var p;I.wasMoved(x)&&(e.disabled||(p=l.virtual.value)!=null&&p.disabled(e.value)||c.value&&(l.optionsPropsRef.value.hold||l.goToOption(k.Nothing)))}return()=>{let{disabled:x}=e,p={active:c.value,selected:d.value,disabled:x},b={id:i,ref:n,role:"option",tabIndex:x===!0?void 0:-1,"aria-disabled":x===!0?!0:void 0,"aria-selected":d.value,disabled:void 0,onMousedown:f,onFocus:C,onPointerenter:T,onMouseenter:T,onPointermove:D,onMousemove:D,onPointerleave:P,onMouseleave:P},v=pe(e,["order","value"]);return q({ourProps:b,theirProps:v,slot:p,attrs:t,slots:s,name:"ComboboxOption"})}}});function At(e,s){return e===s}var Pt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Pt||{}),Vt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Vt||{}),Dt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Dt||{});function Ft(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let He=Symbol("ListboxContext");function ce(e){let s=be(He,null);if(s===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ce),t}return s}let zt=N({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>At},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:s,attrs:t,emit:a}){let l=A(1),i=A(null),n=A(null),o=A(null),c=A([]),d=A(""),r=A(null),u=A(1);function f(p=b=>b){let b=r.value!==null?c.value[r.value]:null,v=ze(p(c.value.slice()),w=>O(w.dataRef.domRef)),y=b?v.indexOf(b):null;return y===-1&&(y=null),{options:v,activeOptionIndex:y}}let C=S(()=>e.multiple?1:0),[I,T]=Be(S(()=>e.modelValue),p=>a("update:modelValue",p),S(()=>e.defaultValue)),D=S(()=>I.value===void 0?_(C.value,{1:[],0:void 0}):I.value),P={listboxState:l,value:D,mode:C,compare(p,b){if(typeof e.by=="string"){let v=e.by;return p?.[v]===b?.[v]}return e.by(p,b)},orientation:S(()=>e.horizontal?"horizontal":"vertical"),labelRef:i,buttonRef:n,optionsRef:o,disabled:S(()=>e.disabled),options:c,searchQuery:d,activeOptionIndex:r,activationTrigger:u,closeListbox(){e.disabled||l.value!==1&&(l.value=1,r.value=null)},openListbox(){e.disabled||l.value!==0&&(l.value=0)},goToOption(p,b,v){if(e.disabled||l.value===1)return;let y=f(),w=he(p===k.Specific?{focus:k.Specific,id:b}:{focus:p},{resolveItems:()=>y.options,resolveActiveIndex:()=>y.activeOptionIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.disabled});d.value="",r.value=w,u.value=v??1,c.value=y.options},search(p){if(e.disabled||l.value===1)return;let b=d.value!==""?0:1;d.value+=p.toLowerCase();let v=(r.value!==null?c.value.slice(r.value+b).concat(c.value.slice(0,r.value+b)):c.value).find(w=>w.dataRef.textValue.startsWith(d.value)&&!w.dataRef.disabled),y=v?c.value.indexOf(v):-1;y===-1||y===r.value||(r.value=y,u.value=1)},clearSearch(){e.disabled||l.value!==1&&d.value!==""&&(d.value="")},registerOption(p,b){let v=f(y=>[...y,{id:p,dataRef:b}]);c.value=v.options,r.value=v.activeOptionIndex},unregisterOption(p){let b=f(v=>{let y=v.findIndex(w=>w.id===p);return y!==-1&&v.splice(y,1),v});c.value=b.options,r.value=b.activeOptionIndex,u.value=1},theirOnChange(p){e.disabled||T(p)},select(p){e.disabled||T(_(C.value,{0:()=>p,1:()=>{let b=$(P.value.value).slice(),v=$(p),y=b.findIndex(w=>P.compare(v,$(w)));return y===-1?b.push(v):b.splice(y,1),b}}))}};Ve([n,o],(p,b)=>{var v;P.closeListbox(),lt(b,nt.Loose)||(p.preventDefault(),(v=O(n))==null||v.focus())},S(()=>l.value===0)),ge(He,P),De(S(()=>_(l.value,{0:G.Open,1:G.Closed})));let x=S(()=>{var p;return(p=O(n))==null?void 0:p.closest("form")});return ie(()=>{J([x],()=>{if(!x.value||e.defaultValue===void 0)return;function p(){P.theirOnChange(e.defaultValue)}return x.value.addEventListener("reset",p),()=>{var b;(b=x.value)==null||b.removeEventListener("reset",p)}},{immediate:!0})}),()=>{let{name:p,modelValue:b,disabled:v,form:y,...w}=e,h={open:l.value===0,disabled:v,value:D.value};return se(ve,[...p!=null&&D.value!=null?ye({[p]:D.value}).map(([L,m])=>se(je,Fe({features:xe.Hidden,key:L,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:y,disabled:v,name:L,value:m}))):[],q({ourProps:{},theirProps:{...t,...pe(w,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:h,slots:s,attrs:t,name:"Listbox"})])}}}),$t=N({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:null}},setup(e,{attrs:s,slots:t}){var a;let l=(a=e.id)!=null?a:`headlessui-listbox-label-${Q()}`,i=ce("ListboxLabel");function n(){var o;(o=O(i.buttonRef))==null||o.focus({preventScroll:!0})}return()=>{let o={open:i.listboxState.value===0,disabled:i.disabled.value},{...c}=e,d={id:l,ref:i.labelRef,onClick:n};return q({ourProps:d,theirProps:c,slot:o,attrs:s,slots:t,name:"ListboxLabel"})}}}),Bt=N({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:s,slots:t,expose:a}){var l;let i=(l=e.id)!=null?l:`headlessui-listbox-button-${Q()}`,n=ce("ListboxButton");a({el:n.buttonRef,$el:n.buttonRef});function o(u){switch(u.key){case M.Space:case M.Enter:case M.ArrowDown:u.preventDefault(),n.openListbox(),j(()=>{var f;(f=O(n.optionsRef))==null||f.focus({preventScroll:!0}),n.value.value||n.goToOption(k.First)});break;case M.ArrowUp:u.preventDefault(),n.openListbox(),j(()=>{var f;(f=O(n.optionsRef))==null||f.focus({preventScroll:!0}),n.value.value||n.goToOption(k.Last)});break}}function c(u){switch(u.key){case M.Space:u.preventDefault();break}}function d(u){n.disabled.value||(n.listboxState.value===0?(n.closeListbox(),j(()=>{var f;return(f=O(n.buttonRef))==null?void 0:f.focus({preventScroll:!0})})):(u.preventDefault(),n.openListbox(),Ft(()=>{var f;return(f=O(n.optionsRef))==null?void 0:f.focus({preventScroll:!0})})))}let r=Le(S(()=>({as:e.as,type:s.type})),n.buttonRef);return()=>{var u,f;let C={open:n.listboxState.value===0,disabled:n.disabled.value,value:n.value.value},{...I}=e,T={ref:n.buttonRef,id:i,type:r.value,"aria-haspopup":"listbox","aria-controls":(u=O(n.optionsRef))==null?void 0:u.id,"aria-expanded":n.listboxState.value===0,"aria-labelledby":n.labelRef.value?[(f=O(n.labelRef))==null?void 0:f.id,i].join(" "):void 0,disabled:n.disabled.value===!0?!0:void 0,onKeydown:o,onKeyup:c,onClick:d};return q({ourProps:T,theirProps:I,slot:C,attrs:s,slots:t,name:"ListboxButton"})}}}),jt=N({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:s,slots:t,expose:a}){var l;let i=(l=e.id)!=null?l:`headlessui-listbox-options-${Q()}`,n=ce("ListboxOptions"),o=A(null);a({el:n.optionsRef,$el:n.optionsRef});function c(u){switch(o.value&&clearTimeout(o.value),u.key){case M.Space:if(n.searchQuery.value!=="")return u.preventDefault(),u.stopPropagation(),n.search(u.key);case M.Enter:if(u.preventDefault(),u.stopPropagation(),n.activeOptionIndex.value!==null){let f=n.options.value[n.activeOptionIndex.value];n.select(f.dataRef.value)}n.mode.value===0&&(n.closeListbox(),j(()=>{var f;return(f=O(n.buttonRef))==null?void 0:f.focus({preventScroll:!0})}));break;case _(n.orientation.value,{vertical:M.ArrowDown,horizontal:M.ArrowRight}):return u.preventDefault(),u.stopPropagation(),n.goToOption(k.Next);case _(n.orientation.value,{vertical:M.ArrowUp,horizontal:M.ArrowLeft}):return u.preventDefault(),u.stopPropagation(),n.goToOption(k.Previous);case M.Home:case M.PageUp:return u.preventDefault(),u.stopPropagation(),n.goToOption(k.First);case M.End:case M.PageDown:return u.preventDefault(),u.stopPropagation(),n.goToOption(k.Last);case M.Escape:u.preventDefault(),u.stopPropagation(),n.closeListbox(),j(()=>{var f;return(f=O(n.buttonRef))==null?void 0:f.focus({preventScroll:!0})});break;case M.Tab:u.preventDefault(),u.stopPropagation();break;default:u.key.length===1&&(n.search(u.key),o.value=setTimeout(()=>n.clearSearch(),350));break}}let d=Ae(),r=S(()=>d!==null?(d.value&G.Open)===G.Open:n.listboxState.value===0);return()=>{var u,f;let C={open:n.listboxState.value===0},{...I}=e,T={"aria-activedescendant":n.activeOptionIndex.value===null||(u=n.options.value[n.activeOptionIndex.value])==null?void 0:u.id,"aria-multiselectable":n.mode.value===1?!0:void 0,"aria-labelledby":(f=O(n.buttonRef))==null?void 0:f.id,"aria-orientation":n.orientation.value,id:i,onKeydown:c,role:"listbox",tabIndex:0,ref:n.optionsRef};return q({ourProps:T,theirProps:I,slot:C,attrs:s,slots:t,features:re.RenderStrategy|re.Static,visible:r.value,name:"ListboxOptions"})}}}),_t=N({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:s,attrs:t,expose:a}){var l;let i=(l=e.id)!=null?l:`headlessui-listbox-option-${Q()}`,n=ce("ListboxOption"),o=A(null);a({el:o,$el:o});let c=S(()=>n.activeOptionIndex.value!==null?n.options.value[n.activeOptionIndex.value].id===i:!1),d=S(()=>_(n.mode.value,{0:()=>n.compare($(n.value.value),$(e.value)),1:()=>$(n.value.value).some(p=>n.compare($(p),$(e.value)))})),r=S(()=>_(n.mode.value,{1:()=>{var p;let b=$(n.value.value);return((p=n.options.value.find(v=>b.some(y=>n.compare($(y),$(v.dataRef.value)))))==null?void 0:p.id)===i},0:()=>d.value})),u=tt(o),f=S(()=>({disabled:e.disabled,value:e.value,get textValue(){return u()},domRef:o}));ie(()=>n.registerOption(i,f)),me(()=>n.unregisterOption(i)),ie(()=>{J([n.listboxState,d],()=>{n.listboxState.value===0&&d.value&&_(n.mode.value,{1:()=>{r.value&&n.goToOption(k.Specific,i)},0:()=>{n.goToOption(k.Specific,i)}})},{immediate:!0})}),de(()=>{n.listboxState.value===0&&c.value&&n.activationTrigger.value!==0&&j(()=>{var p,b;return(b=(p=O(o))==null?void 0:p.scrollIntoView)==null?void 0:b.call(p,{block:"nearest"})})});function C(p){if(e.disabled)return p.preventDefault();n.select(e.value),n.mode.value===0&&(n.closeListbox(),j(()=>{var b;return(b=O(n.buttonRef))==null?void 0:b.focus({preventScroll:!0})}))}function I(){if(e.disabled)return n.goToOption(k.Nothing);n.goToOption(k.Specific,i)}let T=Pe();function D(p){T.update(p)}function P(p){T.wasMoved(p)&&(e.disabled||c.value||n.goToOption(k.Specific,i,0))}function x(p){T.wasMoved(p)&&(e.disabled||c.value&&n.goToOption(k.Nothing))}return()=>{let{disabled:p}=e,b={active:c.value,selected:d.value,disabled:p},{value:v,disabled:y,...w}=e,h={id:i,ref:o,role:"option",tabIndex:p===!0?void 0:-1,"aria-disabled":p===!0?!0:void 0,"aria-selected":d.value,disabled:void 0,onClick:C,onFocus:I,onPointerenter:D,onMouseenter:D,onPointermove:P,onMousemove:P,onPointerleave:x,onMouseleave:x};return q({ourProps:h,theirProps:w,slot:b,attrs:t,slots:s,name:"ListboxOption"})}}});const Nt={class:"relative"},Wt={class:"relative"},qt={class:"block truncate"},Ut={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},Ht={class:"flex items-center justify-between"},Kt={key:0,class:"flex items-center"},Jt={class:"relative"},Qt={class:"relative"},Gt={class:"flex items-center justify-between"},Xt={key:0,class:"flex items-center"},Yt={key:2,class:"mt-1 text-sm text-red-600"},tl={__name:"AppSelect",props:{modelValue:{type:[String,Number,null],default:null},options:{type:Array,required:!0,default:()=>[]},label:{type:String,default:""},placeholder:{type:String,default:"Seleccionar..."},searchable:{type:Boolean,default:!1},error:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:s}){const t=e,a=A(t.modelValue),l=A(""),i=S(()=>{if(!a.value)return"";const c=t.options.find(d=>d.value===a.value);return c?c.label:""}),n=c=>{if(!c)return"";const d=t.options.find(r=>r.value===c);return d?d.label:""},o=S(()=>{if(!t.searchable||!l.value)return t.options;const c=l.value.toLowerCase();return t.options.filter(d=>d.label.toLowerCase().includes(c))});return J(()=>t.modelValue,c=>{a.value=c}),(c,d)=>(B(),Y("div",Nt,[e.searchable?(B(),X(z(It),{key:1,modelValue:a.value,"onUpdate:modelValue":[d[3]||(d[3]=r=>a.value=r),d[4]||(d[4]=r=>c.$emit("update:modelValue",r))]},{default:W(()=>[K("div",Jt,[e.label?(B(),X(z(Et),{key:0,class:"block text-sm font-medium text-gray-700 mb-1"},{default:W(()=>[Oe(ne(e.label),1)]),_:1})):le("",!0),K("div",Qt,[H(z(kt),{class:oe(["relative w-full cursor-pointer rounded-lg bg-white py-2 pl-3 pr-10 text-left shadow-sm border border-gray-300 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary hover:bg-gray-50",{"border-red-500":e.error}]),"display-value":r=>n(r),placeholder:e.placeholder,onChange:d[2]||(d[2]=r=>l.value=r.target.value)},null,8,["class","display-value","placeholder"]),H(z(Tt),{class:"absolute inset-y-0 right-0 flex items-center pr-2"},{default:W(()=>[H(z(Ce),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1})]),H(we,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:W(()=>[o.value.length>0?(B(),X(z(Mt),{key:0,class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:W(()=>[(B(!0),Y(ve,null,Re(o.value,r=>(B(),X(z(Lt),{key:r.value,value:r.value,class:oe(["relative cursor-pointer select-none py-2 px-4",[c.active?"bg-gray-100 text-gray-900":"text-gray-900",c.selected?"bg-primary text-white":""]])},{default:W(({active:u,selected:f})=>[K("div",Gt,[K("span",{class:oe(["block truncate",[f?"font-medium":"font-normal"]])},ne(r.label),3),f?(B(),Y("span",Xt,[H(z(Ie),{class:"h-5 w-5","aria-hidden":"true"})])):le("",!0)])]),_:2},1032,["value","class"]))),128))]),_:1})):le("",!0)]),_:1})])]),_:1},8,["modelValue"])):(B(),X(z(zt),{key:0,modelValue:a.value,"onUpdate:modelValue":[d[0]||(d[0]=r=>a.value=r),d[1]||(d[1]=r=>c.$emit("update:modelValue",r))]},{default:W(()=>[K("div",Wt,[e.label?(B(),X(z($t),{key:0,class:"block text-sm font-medium text-gray-700 mb-1"},{default:W(()=>[Oe(ne(e.label),1)]),_:1})):le("",!0),H(z(Bt),{class:oe(["relative w-full cursor-pointer rounded-lg bg-white py-2 pl-3 pr-10 text-left shadow-sm border border-gray-300 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary hover:bg-gray-50",{"border-red-500":e.error}])},{default:W(()=>[K("span",qt,ne(i.value||e.placeholder),1),K("span",Ut,[H(z(Ce),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1},8,["class"]),H(we,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:W(()=>[H(z(jt),{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:W(()=>[(B(!0),Y(ve,null,Re(e.options,r=>(B(),X(z(_t),{key:r.value,value:r.value,class:oe(["relative cursor-pointer select-none py-2 px-4",[c.active?"bg-gray-100 text-gray-900":"text-gray-900",c.selected?"bg-primary text-white":""]])},{default:W(({active:u,selected:f})=>[K("div",Ht,[K("span",{class:oe(["block truncate",[f?"font-medium":"font-normal"]])},ne(r.label),3),f?(B(),Y("span",Kt,[H(z(Ie),{class:"h-5 w-5","aria-hidden":"true"})])):le("",!0)])]),_:2},1032,["value","class"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"])),e.error?(B(),Y("p",Yt,ne(e.error),1)):le("",!0)]))}};export{tl as _,Z as a,je as f,fe as o,mt as t,xe as u};
